<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0072)http://gangopolis.narod.ru/Hard/AdvancedVoiceCourier56K-33_6Kv2_1_10.htm -->
<!-- saved from url=(0055)http://www.usrmodem.ru/documents/manuals/avc56doc.shtml --><!-- Produced by D-Studio Design, www.ds-server.da.ru --><HTML><HEAD><TITLE>Руководство пользователя Advanced Voice Courier 56K/33.6K v2.1.10 | www.usrmodem.ru</TITLE>
<META http-equiv=Content-Type content="text/html; charset=windows-1251">
<META 
content="Modems, USR, Sportster, Модемы, AVC, Upgrade, Flash, 56K, USRobotics, 3COM, U.S.Robotics, Ваваев, Прошивка, CONNECT, Microprogram, телекоммуникации, прошивка, прошивки, Курьер, Спортстер, апгрейд, флэш, ремонт, продажа, покупка, Додонов, FAQ, V90, 3Com, DSP, Дмитрий, Иванов, D-Studio Design, DSD, DStudio" 
name=keywords>
<META content="MSHTML 6.00.2900.3059" name=GENERATOR><LINK 
href="../new/USR/Прошивка!!!/AVC/Руководство%20пользователя%20Advanced%20Voice%20Courier%2056K-33_6K%20v2_1_10%20%20www_usrmodem_ru.files/style.css" 
type=text/css rel=stylesheet>
<SCRIPT language=javascript src=""></SCRIPT>
</HEAD>
<BODY bgColor=#ffffff leftMargin=0 topMargin=0 onload=doOnLoadProcesses() 
marginheight="0" marginwidth="0">
<TABLE style="BORDER-COLLAPSE: collapse" borderColor=#111111 cellSpacing=0 
cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR>
    <TD vAlign=center align=right width="45%" bgColor=#c0c0c0><A 
      href="http://gangopolis.narod.ru/Hard/OglavlenieIndex.htm"><IMG height=26 
      src="Руководство пользователя Advanced Voice Courier 56K-33_6K v2_1_10  www_usrmodem_ru.files/GoBack.gif" 
      width=32 border=0></A></TD>
    <TD vAlign=center align=right width="56%" bgColor=#c0c0c0>
      <P align=left><B><FONT color=#0066cc size=4><A 
      href="http://gangopolis.narod.ru/Hard/OglavlenieIndex.htm">Н<SPAN 
      lang=ru>азад</SPAN></A></FONT></B></P></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR>
    <TD align=left width="100%">&nbsp;</TD></TR>
  <TR>
    <TD class=clsColor1 id=divMenuBar>
      <SCRIPT>document.write(menuheader); drawmenus();</SCRIPT>
    </TD></TR>
  <TR>
    <TD>
      <TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
        <TBODY>
        <TR>
          <TD background="">&nbsp;</TD>
          <TD>
            <H3 align=center><BR>Руководство пользователя </H3>
            <P align=center>Москва 2002 г.</P>
            <P>Копирование или воспроизведение этой документации целиком или по 
            частям в печатной или какой-либо иной форме без согласования с 
            автором запрещено. Авторские права принадлежат Ваваеву А.В. (<A 
            href="mailto:vavaev@usrmodem.ru">vavaev@usrmodem.ru</A>, 
            2:5020/633.1@FIDONET) Все названия компаний и названия продуктов 
            упомянутые в этом документе являются зарегистрированными торговыми 
            марками и собственностью соответствующих компаний. </P>
            <P>Данное руководство не является полным и исчерпывающим описанием 
            возможностей модема <B>Courier</B>. Здесь мы рассматриваем только 
            отличия и нововведения прошивки <B>Advanced Voice Courier </B>(tm) 
            по сравнению с оригинальной прошивкой от USR. </P>
            <BLOCKQUOTE>
              <P><B><IMG height=10 
              src="Руководство пользователя Advanced Voice Courier 56K-33_6K v2_1_10  www_usrmodem_ru.files/str_r.gif" 
              width=6> Содержание:</B></P>
              <OL>
                <LI><A 
                href="http://gangopolis.narod.ru/Hard/AdvancedVoiceCourier56K-33_6Kv2_1_10.htm#1">От 
                автора</A> 
                <LI><A 
                href="http://gangopolis.narod.ru/Hard/AdvancedVoiceCourier56K-33_6Kv2_1_10.htm#2">Отличительные 
                особенности AVC</A> 
                <LI><A 
                href="http://gangopolis.narod.ru/Hard/AdvancedVoiceCourier56K-33_6Kv2_1_10.htm#3">Загрузка 
                прошивки</A> 
                <LI><A 
                href="http://gangopolis.narod.ru/Hard/AdvancedVoiceCourier56K-33_6Kv2_1_10.htm#4">Определитель 
                номера (АОН)</A> <BR>4.1 <A 
                href="http://gangopolis.narod.ru/Hard/AdvancedVoiceCourier56K-33_6Kv2_1_10.htm#41">Эмуляция 
                CallerID</A> <BR>4.2 <A 
                href="http://gangopolis.narod.ru/Hard/AdvancedVoiceCourier56K-33_6Kv2_1_10.htm#42">Эмуляция 
                тональных сигналов АТС</A> 
                <LI><A 
                href="http://gangopolis.narod.ru/Hard/AdvancedVoiceCourier56K-33_6Kv2_1_10.htm#5">Регулировка 
                скорости импульсного набора номера</A> 
                <LI><A 
                href="http://gangopolis.narod.ru/Hard/AdvancedVoiceCourier56K-33_6Kv2_1_10.htm#6">Настройка 
                на сигналы busy и dialtone</A> <BR>6.1 <A 
                href="http://gangopolis.narod.ru/Hard/AdvancedVoiceCourier56K-33_6Kv2_1_10.htm#61">Режим 
                диагностики ATY4</A> 
                <LI><A 
                href="http://gangopolis.narod.ru/Hard/AdvancedVoiceCourier56K-33_6Kv2_1_10.htm#7">Регулировки 
                чувствительности и уровня выходного сигнала</A> <BR>7.1 <A 
                href="http://gangopolis.narod.ru/Hard/AdvancedVoiceCourier56K-33_6Kv2_1_10.htm#71">Аналоговая 
                регулировка усиления</A> <BR>7.2 <A 
                href="http://gangopolis.narod.ru/Hard/AdvancedVoiceCourier56K-33_6Kv2_1_10.htm#72">Программная 
                регулировка усиления</A> <BR>7.3 <A 
                href="http://gangopolis.narod.ru/Hard/AdvancedVoiceCourier56K-33_6Kv2_1_10.htm#73">Регулировка 
                чувствительности приемника модема</A> 
                <LI><A 
                href="http://gangopolis.narod.ru/Hard/AdvancedVoiceCourier56K-33_6Kv2_1_10.htm#8">Укороченная 
                статистика соединения</A> 
                <LI><A 
                href="http://gangopolis.narod.ru/Hard/AdvancedVoiceCourier56K-33_6Kv2_1_10.htm#9">Режимы 
                работы встроенного динамика</A> 
                <LI><A 
                href="http://gangopolis.narod.ru/Hard/AdvancedVoiceCourier56K-33_6Kv2_1_10.htm#10">Тональный 
                пароль на входящий вызов</A> 
                <LI><A 
                href="http://gangopolis.narod.ru/Hard/AdvancedVoiceCourier56K-33_6Kv2_1_10.htm#11">Голосовой 
                режим</A> <BR>11.1 <A 
                href="http://gangopolis.narod.ru/Hard/AdvancedVoiceCourier56K-33_6Kv2_1_10.htm#111">Автоопределение 
                входящих голосовых звонков</A> 
                <LI><A 
                href="http://gangopolis.narod.ru/Hard/AdvancedVoiceCourier56K-33_6Kv2_1_10.htm#13">Гарантии</A> 

                <LI><A 
                href="http://gangopolis.narod.ru/Hard/AdvancedVoiceCourier56K-33_6Kv2_1_10.htm#14">Условия 
                распространени</A> </LI></OL>
              <P>Приложение 1. <A 
              href="http://gangopolis.narod.ru/Hard/AdvancedVoiceCourier56K-33_6Kv2_1_10.htm#p1">Дополнительные 
              команды прошивки AVC-56</A> <BR>Приложение 2. <A 
              href="http://gangopolis.narod.ru/Hard/AdvancedVoiceCourier56K-33_6Kv2_1_10.htm#p2">Дополнительные 
              регистры прошивки AVC-56</A> <BR>Приложение 3. <A 
              href="http://www.usrmodem.ru/documents/manuals/avchistory.shtml">История 
              изменений в прошивке AVC</A> </P></BLOCKQUOTE>
            <H4 align=center><A name=1></A><BR>1. От автора </H4>
            <P>Учитывая большую распространенность модемов USR в России, а также 
            отсутствие в настоящий момент разработки фирменных прошивок 
            ориентированных на наш рынок, я посчитал целесообразным создать 
            новый Freeware-проект для развития микро- программ управления для 
            модемов USR Courier и USR Sportster. Разработка альтернативных 
            ветвей развития прошивок к модемам USR Courier ведется доста- точно 
            давно, начиная с моделей 14400 (проект RC-21600 питерской команды 
            HT-System). В 1995 году появились первые разработки для Курьеров 
            28.8/33.6 - "додоновские" прошивки, авторы которой Владимир Додонов 
            и Денис Корнюхин были одними из первых апгрейдеров USR 28.8/33.6. 
            </P>
            <P>В 1997 и 1998 годах появились первые свободно-распространяемые 
            проекты Константина Норватова (KN_SDL), а потом и Игоря Дягилева. 
            Последний проект, более известный как ID_SDL получил наибольшее 
            распространение и известность, но как известно все хорошее когда-то 
            кончается и в настоящее время ID_SDL прекратил свое существование. 
            Компанию 3COM лихорадят внутренние разборки, а подразделение USR 
            вновь становится независимой компанией, но уже с другими 
            владельцами. </P>
            <P>Если и раньше фирмой USR в своих модемах не уделялось внимания 
            российскому пользователю, то теперь это становится все менее 
            вероятным. В свете всех этих последних событий, а также понимание 
            того, что Freeware проекты развиваются значительно быстрее 
            подтолкнуло меня к созданию качественно нового проекта, 
            направленного улучшить работу модемов USR, а также помочь 
            пользователям быстрее разобраться в настройке и эксплуатации этих 
            модемов. Новый интернет-сайт www.usrmodem.ru создан именно с этой 
            целью. </P>
            <P>Если Вы все-же поленились прочитать этот документ целиком и после 
            установки прошивки у Вас появились проблемы или вопросы, то 
            попытайтесь найти ответ на свой вопрос в этой документации. Если это 
            Вам не удалось, то посетите форум обсуждения модемов на сайте 
            www.usrmodem.ru, а также раздел сайта "Техническая поддержка". </P>
            <H4 align=center><A name=2></A><BR>2. Общие сведения и отличительные 
            особенности Advanced Voice Courier(tm) </H4>
            <UL>
              <LI>Голосовой режим (#CLS=8) для записи/воспроизведения звука 
              <LI>Определение номера звонящего абонента (русский АОН) 
              <LI>Режим эмуляции #CID для совместимости с программным 
              обеспечением, поддерживающем стандарт CallerID 
              <LI>Автоматическое определение типа входящих звонков 
              data/fax/voice 
              <LI>Определение идентификатора производителя удаленного модема 
              (Remote Manufacturer ID) 
              <LI>Эмуляция сигналов АТС (длинные гудки) с подстройкой громкости 
              и частоты 
              <LI>Регулировки усиления и чувствительности модема 
              <LI>Озвучивание перетренировок во время связи 
              <LI>Улучшенное определение DIALTONE/BUSY на нестандартных линиях 
              <LI>Регулировка скорости импульсного набора номера 
              <LI>DTMF-пароль на сессию, для защиты от АТСников 
              <LI>Укороченная статистика соединения 
              <LI>Полное сохранение всех протоколов связи, присущих модемам 
              Courier: HST, V22bis, V32bis, V32terbo, V34+, x2, V.90, 
              V42/V42bis, MNP. </LI></UL>
            <P><B>Прошивка выпускается в трех видах:</B></P>
            <OL>
              <LI><B>Версия Delta</B><BR>Использует старую микропрограмму DSP 
              версии 1.2.6 (от прошивки 01/11/1995). Рекомендуется использовать 
              эту модификацию прошивки, если у Вас сильно зашумленная линия. Эта 
              версия микрокода не поддерживает высокоскоростные протоколы x2 и 
              V.90, но как правило они и не требуются на линиях низкого 
              качества.<BR><BR>
              <LI><B>Версия Gamma</B><BR>С оригинальным кодом DSP версии 3.0.13 
              (прошивка 03/13/1998). Поддерживает протоколы x2 и V.90. Эта 
              модификация микрокода неплохо ведет себя на протоколе V.34, и дает 
              довольно высокий CPS. Однако оценка линии по протоколу V.90 
              происходит не совсем корректно, поэтому для высококачественных 
              соединений на V.90 лучше использовать модификацию Sigma.<BR><BR>
              <LI><B>Версия Sigma</B><BR>С оригинальным кодом DSP версии 3.1.2 
              (прошивка 04/30/1998). Поддерживает протоколы x2 и V.90. Этот код 
              DSP наилучшим образом зарекомендовал себя при работе на V.90. Если 
              Ваша линия связи не позволяет модему работать на этом протоколе, 
              то рекомендуется использовать модификацию прошивки Delta или 
              Gamma. </LI></OL>
            <H4 align=center><A name=3></A><BR>3. Загрузка прошивки в модем 
</H4>
            <P>Программное обеспечение модема (прошивка) постоянно 
            модифицируется, поэтому иногда может понадобиться обновить прошивку 
            в модеме, для приобретения каких-то новых функций или устранения 
            обнаруженных ошибок. Для загрузки новой прошивки в модем, необходимо 
            перезагрузить компьютер в режиме эмуляции MS-DOS или в чистый 
            MS-DOS. Для пользователей Windows NT, загрузить MS-DOS с дискеты. 
            После этого запустить .exe файл прошивки с ключем /Cn (для 
            оригинальных прошивок /C=n), где n - номер COM-порта на который 
            установлен модем. Далее, ответить программе Yes (Y), и дождаться 
            сообщения об удачной загрузке прошивки "Successful programming 
            complete". Если загрузка прошивки, по какой-либо причине окончилась 
            неудачей (выключение питания, зависание компьютера, попытка заливки 
            прошивки в окне многозадачной системы Windows или OS/2), то 
            необходимо выключить модем (или компьютер, если модем внутренний 
            внутренних модемов). После этого включить и загрузить прошивку как 
            описано выше. </P>
            <P><B><FONT color=#ff0000>ВНИМАНИЕ !!!</FONT></B> Для начальной 
            инициализации модема после заливки новой прошивки обязательно 
            необходимо дать команду AT&amp;F1&amp;W. По этой команде все 
            регистры и настройки модема устанавливаются в исходное состояние. 
            Теперь модем готов к работе и Вы можете опробовать его в различных 
            режимах, описанных ниже. </P>
            <H4 align=center><A name=4></A><BR>4. Определение номера абонента 
            (АОН) </H4>
            <P>Эта возможность позволяет определять номера звонящих абонентов на 
            территории бывшего СССР. Определение номера абонента позволяет 
            повысить безопасность вашей компьютерной системы, а также расширить 
            возможности автоответчика и голосовой почты. </P>
            <P>Попытка определение номера происходит при ответе модема на 
            входящий звонок или при поднятии трубки командами ATH1 и ATR, при 
            условии, что имел место сигнал вызова (RING). Алгоритм определения 
            звонка вызова работает так, что модем выдает слово RING примерно 
            через 2 секунды после окончания звонка. Многие программы не 
            полагаются на этот алгоритм и используют линию RI com-порта, которая 
            изменяет свое состояние при повышении напряжения в телефонной линии. 
            Такой метод более надежен, но побочным эффектом является 
            срабатывание линии RI на набор номера на параллельно включенном 
            телефонном аппарате, в результате чего телекоммуникационная 
            программа определяет ложный звонок и передает модему команду 
            ответить на этот звонок. Если Ваша телекоммуникационная программа 
            все-таки использует такой метод определения входящего звонка, то 
            необходимо дать знать об этом модему, выставив бит 1 (маска 2) в 
            регистре S99. Если выставить бит 0 регистра S99, то номер будет 
            запрашиваться при любом поднятии трубки вне зависимости от наличия 
            или отсутствия входного звонка. По умолчанию же последовательность 
            действий модема такая: </P>
            <P>Если включен режим АОН (значение регистра S70 отлично от 0), то 
            при обнаружении входного звонка модем, по командам ATH1, ATA, ATR, 
            или в режиме автоответа подключается к линии и выдает запрос к 
            аппаратуре АТС. Если в регистре S99 установлена маска 2 (бит 1), то 
            признаком входного звонка будет также считаться изменение состояния 
            линии "RING" COM-порта. Максимальную длительность запроса можно 
            регулировать регистром S74, задавая время в секундах. Если ответа от 
            АТС не обнаружено в течении времени задаваемого регистром S74, модем 
            перейдет к обычной процедуре соединения не выдавая никаких сообщений 
            о номере абонента. При наличии ответа начинается прием пакета АОН. 
            Тайм-аут на прием пакета можно регулировать в регистре S75 (в 
            секундах). Для "глухих" АТС можно увеличить уровень сигнала запроса, 
            изменяя значение регистра S72 в диапазоне от 0 до 63. </P>
            <P>На некоторых АТС, посылка АОН выдается вообще без запроса. В 
            таких случаях необходимо выключить сигнал запроса. Для этого в 
            регистр S74 (время посылки запроса) надо установить в 0. Тогда при 
            подключении к линии модем сразу же начнет прием пакета АОН. Иногда 
            аппаратура АТС не отвечает на запрос, или отвечает некорректно. Если 
            ответа от АТС не последовало, то номер не выводится. В модеме 
            предусмотрен режим частично определенных номеров. В этом режиме 
            выводятся не только корректно определенные номера, но и частично 
            определенные, или определенные с ошибками из-за помех в линии. При 
            этом в теле номера могут присутствовать специальные символы: X - 
            неопределенная цифра ? - определен код повтора при неопределенной 
            предыдущей цифре.</P>
            <P>Номер может быть выведен как отдельным сообщением CALLER ID 
            (регистр S70=1), так и в строке CONNECT (регистр S70=2):</P>
            <BLOCKQUOTE>CALLER ID:1234567:8 (номер 123-4567 и категория 8) 
              <BR>и/или <BR>CONNECT 33600/ARQ/V34/LAPM/V42BIS/"1234567:8" 
            </BLOCKQUOTE>
            <P>Для коммуникационных программ и программ-автоответчиков 
            предоставляется возможность самим выполнять высокоуровневую 
            обработку "сырого" кода посылки. Для использования этой возможности 
            необходимо выставить бит 7 регистра S99. При попытке определения 
            номера, сразу после запроса АОН модем начнет выдавать "сырой" код 
            абонента по мере его декодирования, при этом строка выглядит 
            примерно так:</P>
            <BLOCKQUOTE>RawCode 
              111111:????666655554444333322221111=====1111????666655554444333322221111==== 
            </BLOCKQUOTE>
            <P>Таким образом передается номер 1234566 категория 1. В сыром коде 
            используются некоторые служебные символы: ":" - неопределенная 
            цифра, "?" - код повтора, "=" - код начала или "синхрокод". 
            Программа может по своему усмотрению использовать эту информацию, в 
            частности контролировать правильность интерпретации номера 
            аппаратурой модема или самой декодировать сырой код. </P>
            <H4 align=center><A name=41></A><BR>4.1 Эмуляция американского 
            стандарта CallerID</H4>
            <P>Модем AVC-56 имеет также модифицированную версию американского 
            стандарта CallerID (Caller Identification). Это американский 
            стандарт идентификации звонящего абонента, который предусматривает 
            передачу номера, адреса, а также имени абонента. В России этот 
            стандарт сейчас не поддерживается, однако все существующие 
            программные средства иностранных разработчиков программного 
            обеспечения(WinFax, TalkWorks, RapidCommVoice, HotFax и др.), 
            разработаны именно под эту систему. Для корректной работы нашего 
            АОНа с этими программами в модеме предусмотрен режим эмуляции 
            CallerID. Режим включается командой AT#CID=1 или AT#CID=2, а 
            выключается AT#CID=0. </P>
            <P>Суть режима эмуляции CallerID заключается в том, что модем 
            автоматически подключается к линии при поступлении входящего вызова 
            и передает в компьютер номер абонента после первого детектированного 
            входящего звонка, а после этого эмитирует в телефонной линии сигналы 
            АТС "Контроль Посылки Вызова" (КПВ). На компьютер при этом синхронно 
            с сигналами КПВ выдается диагностика RING. Таким образом для 
            программы-автоответчика этот режим прозрачен и полностью совместим 
            со форматом выдачи номера, предусмотренном CallerID. </P>
            <P>Последний определенный номер всегда можно просмотреть в 
            статистике по команде ATI6. </P>
            <H4 align=center><A name=42></A><BR>4.2 Эмуляция сигналов АТС </H4>
            <P>В модем AVC добавлена команда ATR, которая включает режим 
            эмуляции сигналов станции КПВ - "Контроль посылки вызова" (длинные 
            гудки). По команде ATR модем поднимает трубку, определяет номер 
            (если АОН включен в регистре S70) и начинает посылать в линию сигнал 
            КПВ. Регистром S79 можно подрегулировать частоту сигналов (в 
            десятках герц) для наибольшей схожести сигналов с Вашей АТС, а 
            регистром S78 - громкость сигналов (от 0 до 63). Эмуляция сигналов 
            может быть прервана несколькими способами - по истечении времени, 
            заданного в регистре S7, при посылке модему любого символа (нажатие 
            клавиши в терминальной программе), или обнаружении одного из событий 
            сконфигурированных регистром S90 - сигнал BUSY, голос в линии или 
            поднятие трубки на параллельном телефоне. </P>
            <P>Если использовать команду ATR1, то после окончания эмуляции 
            длинных гудков модем не будет класть трубку, а просто перейдет в 
            командный режим. </P>
            <H4 align=center><A name=5></A><BR>5. Регулировка импульсного набора 
            номера</H4>
            <P>Модем AVC позволяет изменять скорость импульсного набора номера. 
            Некоторые АТС могут устойчиво работать при ускорении импульсного 
            набора в полтора-два раза. Таким образом достигается скорость 
            соединения почти как при тоновом наборе. Регистр S76 задает время 
            импульса в миллисекундах, а регистр S77 задает время паузы между 
            цифрами в 10-мсек интервалах. Попробуйте для примера дать команду 
            ATS76=70 S77=50 DP100. Чрезмерное ускорение набора может привести к 
            сбоям и Ваш модем будет попадать "не туда". В модеме может быть 
            установлено бесшумное реле набора номера (оптронный ключ) с функцией 
            программного управления гнездом телефона. В стандартной схеме 
            большинства модемов телефон включенный в модем отключается когда 
            модем находится на линии и передает данные. Это делается для того, 
            чтобы дополнительные телефонные аппараты не нагружали линию во время 
            связи и не влияли на качество работы модема. Однако, в некоторых 
            ситуациях бывает необходимо, чтобы телефон включенный в гнездо 
            "Phone" был постоянно отключен и не реагировал на входящие звонки. 
            Также бывает необходимо, чтобы телефон всегда был подключен к линии 
            независимо от состояния модема. Для этого в AVC-56 существует 
            команда ATJn, управляющая гнездом "Phone": </P>
            <TABLE cellSpacing=0 cellPadding=5 border=0>
              <TBODY>
              <TR vAlign=top>
                <TD><B>ATJ0</B> </TD>
                <TD>Стандартая работа гнезда телефона. Отключается только 
                  когда модем находится на линии </TD></TR>
              <TR vAlign=top>
                <TD><B>ATJ1</B> </TD>
                <TD>Полностью отключает гнездо телефона </TD></TR>
              <TR vAlign=top>
                <TD><B>ATJ2</B> </TD>
                <TD>Режим без выключения гнезда телефона, гнездо постоянно 
                  включено </TD></TR></TBODY></TABLE>
            <P>Во внешних модемах сделанных на базе спортстеров отсутствует 
            индикатор OH (Off Hook), который должен показывать состояние модема 
            на линии - подлючен/отключен. Во время набора номера и в процессе 
            установления соединения выполнение этой функции может быть возложено 
            на индикатор ARQ/FAX, который не используется в процессе набора 
            номера. Для этого бит 1 регистра S86 необходимо установить в 1 
            (S86.1=1). При подключении к линии и наборе номера индикатор ARQ/FAX 
            будет выполнять функцию OH. Когда модем подключен к линии индикатор 
            светится, когда отключается от линии - индикатор гаснет. </P>
            <H4 align=center><A name=6></A><BR>6. Настройка алгоритма 
            определения сигналов "занято"</H4>
            <P>На многих АТС у модемов не адаптированных для России возникают 
            проблемы с опознаванием сигналов BUSY("занято") и DIALTONE("длинный 
            гудок"). Сигналы, посылаемые многими советскими АТС, сильно 
            отличаются от установленных ГОСТом и не соответствуют стандартам, на 
            которые рассчитаны модемы. Из-за этого модемы нередко не замечают 
            того, что линия занята, и ждут долгое время ответа от удаленного 
            модема. Это сильно увеличивает время, необходимое для дозвонки до 
            занятого номера. Поэтому в прошивке AVC реализована гибкая 
            подстройка под сигналы Вашего абоненского комплекта и Вашей АТС. 
</P>
            <H4 align=center><A name=61></A><BR>6.1 Использование режима 
            диагностики сигналов линии (команда ATY4) </H4>
            <P>Этот режим очень удобно использовать для настройки модема на на 
            сигналы нестандартной телефонной станции. Если у Вас (и Вашего 
            модема) существуют проблемы с опознаванием сигналов BUSY и DIALTONE, 
            то необходимо подстроить модем конкретно на Вашу линию. </P>
            <P>Для начала рассмотрим, как происходит определение модемом 
            "правильных" сигналов АТС. Когда Вы (или управляющая программа) 
            выдаете команду набора номера, модем снимает трубку и ждет 
            непрерывный гудок частотой 425Гц (DIALTONE). После этого модем 
            набирает номер и переключается на ожидание ответа от модема с 
            протовоположной стороны. Если вместо ответа он определит короткие 
            гудки, которые он сможет опознать как сигнал "занято", модем повесит 
            трубку и выдаст сообщение "BUSY". Вы легко можете проконтролировать 
            этот процесс, если перед набором номера выдадите команду ATY4. После 
            этого в процессе набора номера на экран будет выводиться 
            последовательность двузначных чисел, младшие 2 бита каждого из 
            которых обозначают состояние линии: </P>
            <P>Бит 0 (маска 1) означает, что модем обнаружил на линии 
            посторонний сигнал (шум, голос или другие тональные сигналы). </P>
            <P>Бит 1 (маска 2) означает, что модем обнаружил на линии сигнал 
            425Гц - сигнал "свободно" при снятии трубки, или фрагмент сигнала 
            "занято" или "контроль посылки вызова" при вызове удаленного 
            абонента. </P>
            <P>После завершения набора номера вы увидите одну из следующих 
            картин: </P>
            <UL>
              <LI>Если нет ответа от удаленного абонента, а также нет "длинных 
              гудков" и в линии тишина, то Вы увидите бегущие нули, возможно 
              иногда перемежаемые одиночными выбросами от помех в линии. 
<BR><BR>
              <LI>С противоположной стороны не берут трубку и Вы слышите 
              "длинные гудки". Вы увидите чередование нулей и двоек, длинными 
              сериями. Если у Вас стоит установка X7, то дополнительно будут 
              выводиться сообщения "RINGING" после каждой серии двоек. <BR><BR>
              <LI>С противоположной стороны линия занята (слышен сигнал 
              "занято"). Вы увидите то же чередование нулей и двоек, только 
              серии двоек и нулей будут примерно в три раза короче и одинаковы 
              по длительности. <BR><BR>
              <LI>С противоположной стороны трубку подняли, отвечает модем. Вы 
              увидите короткий ряд разных цифр, после чего модем перейдет в 
              состояние соединения. </LI></UL>
            <P>Так должно быть на нормальных АТС, удовлетворяющих требованиям 
            ГОСТов. Но, часто наблюдается другое - Вы слышите гудки, а модем их 
            не слышит. В таком случае необходимо прибегнуть к процедуре 
            настройки модема. Делается это следующим образом: </P>
            <OL>
              <LI>Включаем модем, запускаем любую терминальную программу и 
              инициализируем все настройки по умолчанию, дав модему команду 
              AT&amp;F1&amp;W, на что модем должен обязательно ответить OK. 
              <BR><BR>
              <LI>Даем модему команду "AT M2L3Y4". Тем самым включив звук и 
              режим диагностики. <BR><BR>
              <LI>Даем команду набора номера ATD.... (после ATD следует номер 
              вызываемого) <BR><BR>
              <LI>После окончания набора следим за непрерывно бегущими по экрану 
              цифрами. Основываясь именно на этих цифрах можно сделать вывод, 
              почему модем плохо или совсем не определяет сигналы станции. 
              Возможны такие варианты: <BR><BR>
              <UL>
                <LI>Вы видите бегущие нули, тогда как в динамике слышны гудки. 
                Скорее всего частота сигналов имеет сильные отклонения от 
                стандарта (425Гц +/- 25Гц). Попробуйте изменять значение 
                регистра S84 в диапазоне от 0 до 3. <BR><BR>
                <LI>Вы видите бегущие двойки. Возможно в паузах между гудками 
                существует небольшой фон тональной частоты 425Гц и модем 
                воспринимает его как гудок. Надо повысить порог распознавания 
                сигналов АТС регистром S83. Увеличивайте его на единичку до 
                получения положительного результата. <BR><BR>
                <LI>Вы видите бегущие тройки или единички. Скорее всего сигналы 
                станции очень громкие и перегружают входную часть модема. 
                Необходимо уменьшить чувствительность входного аналогового 
                тракта (входного усилителя) установив регистр S82=1. <BR><BR>
                <LI>Вы видите двойки и нули, но модем не выдает соответствующую 
                диагностику. Попробуйте поиграть значениями регистров 
                S100..S106. Эти регистры задают минимальные и максимальные 
                длительности сигналов. </LI></UL></LI></OL>
            <H4 align=center><A name=7></A><BR>7. Регулировки чувствительности и 
            уровня выходного сигнала </H4>
            <P>Если Вы считаете, что сигнал вашего модема не слышен (или плохо 
            слышен) удаленным модемом, или наоборот слишком громкий и оглушает 
            собственный приемник, то Вы можете регулировать мощность выходного 
            сигнала модема двумя способами: </P>
            <H4 align=center><A name=71></A><BR>7.1 Аналоговая регулировка 
            усиления</H4>
            <P>С помощью регистра S81 Вы можете ослабить максимальную мощность 
            сигнала, формируемого модемом на выходе собственного передатчика, но 
            при этом сохранить динамический диапазон и соответственно отношение 
            сигнал/шум выходного сигнала. Это требует некоторых пояснений. В 
            прошивках фирмы USR применяется только программная регулировка 
            усиления передатчика. В роли регулятора уровня выступает регистр 
            S39, который по сути задает коэффициент ослабления выходного 
            сигнала. Нулевое значение S39 означает сигнал с максимальным 
            уровнем. Такой подход наиболее прост, однако имеет один серьезный 
            недостаток. На некоторых линиях не только не нужны громкие сигналы, 
            но и запрещены нормами эксплуатации телефонных линий, поэтому 
            выходной сигнал ослабляется путем деления на некоторый коэффициент. 
            Однако, при этом уменьшается динамический диапазон передатчика и 
            привносится бОльшее количество шумов цифро-аналогового 
            преобразования. Тоже самое можно сказать о приемнике модема. В 
            прошивке AVC предусмотрена регулировка выходного усилителя: </P>
            <P>Регистр S81 может принимать значения: </P>
            <TABLE cellSpacing=0 cellPadding=5 border=0>
              <TBODY>
              <TR vAlign=top>
                <TD><B>ATS81=0</B> </TD>
                <TD>Запретить генерацию выходного сигнала модема. </TD></TR>
              <TR vAlign=top>
                <TD><B>ATS81=1</B> </TD>
                <TD>Максимальный выходной уровень 0 dB (по умолчанию) </TD></TR>
              <TR vAlign=top>
                <TD><B>ATS81=2</B> </TD>
                <TD>Ослабление выходного уровня на 6 dB </TD></TR>
              <TR vAlign=top>
                <TD><B>ATS81=3</B> </TD>
                <TD>Ослабление выходного уровня на 12 dB </TD></TR></TBODY></TABLE>
            <H4 align=center><A name=72></A><BR>7.2 Программная регулировка 
            усиления </H4>
            <P>Внутри диапазона, выбранного регистром S81 можно более плавно 
            регулировать уровень выходного сигнала. Задавая в регистре S39 
            значения от 0 до 15 Вы можете ослаблять или усиливать уровень 
            сигнала выдаваемого в линию вашим модемом. Меньшие значения 
            соответствуют большему уровню, большие значения - меньшему уровню. 
            По умолчанию установлено значение 8, что в комбинации со значением 
            S81=1 составляет примерно -8dBm0. </P>
            <H4 align=center><A name=73></A><BR>7.3 Регулировка чувствительности 
            приемника модема</H4>
            <P>Если сигнал удаленного модема настолько тихий, что Ваш модем его 
            не слышит, и соединение не устанавливается, то можно повысить 
            чувствительность приемника модема. Регистр S80 позволяет 
            регулировать чувствительность входного аналогового тракта АЦП модема 
            во время сеанса связи: </P>
            <TABLE cellSpacing=0 cellPadding=5 border=0>
              <TBODY>
              <TR vAlign=top>
                <TD><B>ATS80=0</B> </TD>
                <TD>запрещение работы приемника модема </TD></TR>
              <TR vAlign=top>
                <TD><B>ATS80=1</B> </TD>
                <TD>минимальное усиление 0 dB </TD></TR>
              <TR vAlign=top>
                <TD><B>ATS80=2</B> </TD>
                <TD>усиление +6 dB (установлено по умолчанию) </TD></TR>
              <TR vAlign=top>
                <TD><B>ATS80=3</B> </TD>
                <TD>усиление +12 dB </TD></TR></TBODY></TABLE>
            <P>На "громких" линиях Вы можете ослабить чувствительность модема, 
            чтобы не перегружать входные цепи модема и не вносить дополнительных 
            искажений, а на очень "тихих" линиях можно увеличить 
            чувствительность, хотя необходимо учитывать, что при этом 
            усиливаются также и шумы. </P>
            <H4 align=center><A name=8></A><BR>8. Укоpоченная статистика 
            соединения (команда ATI8)</H4>
            <P>Эту команду можно использовать вместо команды ATI6 в логах 
            коммуникационных программ, таких как T-Mail, Xenia, Bink+, поскольку 
            ATI6 содеpжит слишком много излишней инфоpмации. Информация по ATI8 
            выводится в следующем виде: </P><PRE> Short Link Diagnostics...
 Speed		recv/txmit         Protocol
 Chars		received/sent
 Retrains	granted/requested
 Disconnect Reason is Escape Code</PRE>
            <P>где: </P>
            <TABLE cellSpacing=0 cellPadding=5 border=0>
              <TBODY>
              <TR vAlign=top>
                <TD><B>Protocol</B> </TD>
                <TD>Обозначение протокола модуляции физического уровня </TD></TR>
              <TR vAlign=top>
                <TD><B>recv</B> </TD>
                <TD>Битовая скорость приема информации </TD></TR>
              <TR vAlign=top>
                <TD><B>txmit</B> </TD>
                <TD>Битовая скорость передачи информации </TD></TR>
              <TR vAlign=top>
                <TD><B>received</B> </TD>
                <TD>Количество принятых символов за сеанс связи </TD></TR>
              <TR vAlign=top>
                <TD><B>sent</B> </TD>
                <TD>Количество посланных символов за сеанс связи </TD></TR>
              <TR vAlign=top>
                <TD><B>granted</B> </TD>
                <TD>Количество запросов ретрейна удаленного модема </TD></TR>
              <TR vAlign=top>
                <TD><B>requested</B> </TD>
                <TD>Количество запросов на ретрейн с нашего модема </TD></TR>
              <TR vAlign=top>
                <TD><B>Disconnect Reason</B> </TD>
                <TD>Причина разрыва связи </TD></TR></TBODY></TABLE>
            <H4 align=center><A name=9></A><BR>9. Настройка режима работы 
            внутреннего динамика модема</H4>
            <P>Полезно бывает послушать линию во вpемя pетpейна. Hо все вpемя ее 
            слушать очень гpустно. Команды M4 и M5 соответствуют командам M0 и 
            M1, за исключением того, что включают звук пpи начале pетpейна, а 
            выключают по его окончании. На протоколе V.22 звук может долгое 
            время не выключаться, что связано с особенностями работы этого 
            протокола. Все остальные пересогласования скоростей включаются 
            установкой бита 4 регистра S86 (S86.4=1). </P>
            <H4 align=center><A name=10></A><BR>10. Использование тонального 
            DTMF-пароля на входящих соединениях</H4>
            <P>Для защиты соединения от несанкционированного подключения можно 
            использовать защиту тональным паролем. Перед тем как начать 
            процедуру вхождения в связь модем будет ожидать пароля переданного с 
            помощью сигналов тонального набора (DTMF). Для включения такого 
            режима необходимо установить бит 3 регистра S86 (S86.3=1). Когда 
            этот режим включен, то модем при ответе сначала будет ожидать 
            DTMF-пароль заданный в 5-ой ячейке телефонных номеров (пароль 
            сохраняется в модеме по команде &amp;Z5=). После приема верной 
            последовательности цифр модем переходит к стандартной процедуре 
            соединения в режиме ответа. При поступлении хотя-бы одной неверной 
            цифры модем переходит к вводу пароля с начала. Максима- льное время 
            ввода тонального пароля берется из регистра S7 (в секундах). Также, 
            ввод тонального пароля может быть прекращен по приходу любого 
            символа от DTE (компьютера). </P>
            <P>Звонящий должен модифициpовать стpоку набоpа следующим обpазом: 
            ATDPXXX-XXX@Tnnnn, если он звонит пульсом или пpосто ATDTXXX- 
            XXX@nnnn, если звонит тоном. Отвечающему мэйлеpу надо снимать тpубу 
            минимум после втоpого звонка. Таким обpазом, АТСники, позвонив 
            модемом, ничего, кpоме молчания, не услышат. А хитpый паpольный 
            линк, пpосвистев паpоль, соединится за милую душу. </P>
            <H4 align=center><A name=11></A><BR>11. Голосовой режим</H4>
            <P>В модеме AVC реализован голосовой режим полностью совместимый с 
            голосовым режимом фирмы USRobotics. Вы можете использовать голосовые 
            возможности для работы модема в качестве автоответчика, электронного 
            секретаря, или для передачи факсов с голосовым приветствием. Для 
            работы автоответчика, голосовой почты или для рассылки факсов можно 
            пользоваться любым программным обеспечением предлагаемым зарубежными 
            фирмами. Например Rapid Comm Voice, или TalkWorks.</P>
            <H4 align=center><A name=111></A><BR>11.1 Адаптивный голосовой ответ 
            на входящий звонок</H4>
            <P>Дополнительно к стандартному голосовому режиму в модеме AVC 
            реализовано автоматическое распознавание типа входящего звонка как 
            voice/fax/data. </P>
            <P>Все перечисленные ниже команды являются расширением стандартного 
            набора голосовых команд и работают только при включенном голосовом 
            режиме (#CLS=8). Это команды для настройки режима автоопределения 
            входящих голосовых звонков ("адаптивный ответ"). </P>
            <TABLE cellSpacing=0 cellPadding=5 border=0>
              <TBODY>
              <TR vAlign=top>
                <TD><B>AT#VAA=1</B> </TD>
                <TD>Включение режима автоматического распознавания входящего 
                  звонка как Voice/Fax/Data. </TD></TR>
              <TR vAlign=top>
                <TD><B>AT#VAL=n</B> </TD>
                <TD>Установить пороговый уровень мощности звукового сигнала 
                  для диагностики VCON (0-65535). Значение по умолчанию 2048. 
              </TD></TR>
              <TR vAlign=top>
                <TD><B>AT#VAD=n</B> </TD>
                <TD>Установить время измерения мощности звукового сигнала в 
                  единицах по 20 мсек (0-255). Значение по умолчанию 10 
                  (0.2сек). </TD></TR>
              <TR vAlign=top>
                <TD><B>AT#VAT=n</B> </TD>
                <TD>Установить время ожидания ответа голосом или гудков факса 
                  в секундах (0-255). Значение по умолчанию 4 секунды. </TD></TR>
              <TR vAlign=top>
                <TD><B>AT#VAC=n</B> </TD>
                <TD>Установить количество повторов приветствия при 
                  автоопределении типа входящего звонка (0-255). Значение по 
                  умолчанию 1. </TD></TR></TBODY></TABLE>
            <P>Рассмотрим алгоритм работы автоматического определения входящего 
            голосового звонка. Если включен адаптивный голосовой ответ (#VAA=1), 
            то получив команду ATA, модем поднимет трубку и воспроизведет в 
            линию голосовое приветствие "Алло". После этого, в течении времени 
            заданного командой #VAT (в секундах), происходит анализ на наличие 
            речевого сигнала в линии, а также анализ на предмет появления 
            вызывных гудков факса. Человеческая речь определяется косвенным 
            образом, путем измерения мощности сигнала в линии за опреде- ленный 
            промежуток времени. Это происходит следующим образом: в течении 
            времени заданного командой #VAD (по 20мсек) происходит накопление 
            мощности сигнала, а по истечении этого промежутка, накопленное 
            значение сравнивается с пороговым, заданным командой #VAL. Если 
            измеренная мощность превышает пороговое значение команды #VAL, то 
            модем выдает диаг- ностику VCON и переходит в командный режим не 
            вешая трубки. Увеличить чувствительность к голосу в линии можно 
            изменяя два параметра - увеличивая время накопления (#VAD) и снижая 
            пороговое значение (#VAL). Таким образом, после того как модем 
            сказал "Алло", ответная реакция человека на удаленном конце будет 
            такая же - вероятнее всего он тоже скажет "Алло" и модем выдаст 
            VCON. Если звонит модем, то ответом будет тишина и через время 
            заданное командой #VAT модем начнет отвечать в режиме данных. </P>
            <H4 align=center><A name=p1></A><BR>Приложение 1. Дополнительные 
            команды прошивки AVC </H4>
            <TABLE cellSpacing=0 cellPadding=5 border=0>
              <TBODY>
              <TR vAlign=top>
                <TD><B>ATBn</B> </TD>
                <TD>Выбор метода модуляции при входящих и исходящих звонках 
              </TD></TR>
              <TR vAlign=top>
                <TD>n = 0 </TD>
                <TD>Автоматический выбор метода модуляции. Модем выберет 
                  наивысшую модуляцию для конкретных условий. Приоритетность 
                  протоколов, и соответственно последовательность их перебора 
                  такова: V.90, x2, V.34+, V.34, V.32terbo/ASL, V.32bis, V.32, 
                  V.22bis, V.22. Выбор протокола HST должен быть явно указан 
                  командой ATB1 </TD></TR>
              <TR vAlign=top>
                <TD>n = 1 </TD>
                <TD>Выбор протокола модуляции HST. </TD></TR>
              <TR vAlign=top>
                <TD>n = 2 </TD>
                <TD>Выбор протокола модуляции V.22/V.22bis </TD></TR>
              <TR vAlign=top>
                <TD>n = 3 </TD>
                <TD>Выбор протокола модуляции V.32/V.32bis/V.32terbo/ASL 
</TD></TR>
              <TR vAlign=top>
                <TD>n = 4 </TD>
                <TD>Выбор протокола модуляции V.34/V.34+ </TD></TR>
              <TR vAlign=top>
                <TD>n = 5 </TD>
                <TD>Выбор протокола модуляции V.FC </TD></TR>
              <TR vAlign=top>
                <TD>n = 7 </TD>
                <TD>Выбор протокола модуляции V.90 или x2 </TD></TR>
              <TR vAlign=top>
                <TD><B>ATR</B> </TD>
                <TD>Определение номера с последующей эмуляцией сигналов АТС 
              </TD></TR>
              <TR vAlign=top>
                <TD><B>ATR1</B> </TD>
                <TD>Эмуляция сигналов с последующим переходом в командный 
                  режим без опускания трубки </TD></TR>
              <TR vAlign=top>
                <TD><B>ATJn</B> </TD>
                <TD>Управление гнездом телефона для модемов с установленным 
                  дополнительным реле </TD></TR>
              <TR vAlign=top>
                <TD>n = 0 </TD>
                <TD>Стандартный режим управления телефоном </TD></TR>
              <TR vAlign=top>
                <TD>n = 1 </TD>
                <TD>Телефон всегда выключен </TD></TR>
              <TR vAlign=top>
                <TD>n = 2 </TD>
                <TD>Телефон всегда включен </TD></TR>
              <TR vAlign=top>
                <TD><B>AT&amp;N3</B></TD>
                <TD>Если V.34 не запрещен, то происходит соединение на 
                2400/V34</TD></TR>
              <TR vAlign=top>
                <TD><B>ATI17</B></TD>
                <TD>Вывод сырого кода АОН</TD></TR></TBODY></TABLE><BR>Также краткое 
            описание этих и других команд можно получить непосредственно от 
            модема, дав ему команды <B>AT$</B>, <B>ATS$</B> или <B>AT&amp;$</B> 
            в терминальной программе. 
            <H4 align=center><A name=p2></A><BR>Приложение 2. Дополнительные 
            регистры прошивки AVC </H4>
            <P>Регистры (в скобках указано значение, устанавливаемое командой 
            AT&amp;Fn).</P>
            <TABLE cellSpacing=0 cellPadding=5 border=0>
              <TBODY>
              <TR vAlign=top>
                <TD noWrap><B>S70 (2)</B> </TD>
                <TD>
                  <P>Режимы отображения и работы АОН. Устанавливая регистр S70 
                  значения 0-4, можно выбрать соответствующий режим АОНа.</P>
                  <BLOCKQUOTE>S70=0 Выключение АОНа (запрос не выдается) 
                    <BR>S70=1 Отображать номер отдельной строкой CALLER ID: 
                    nnnnnnn:k <BR>S70=2 Отображать номер в строке соединия 
                    CONNECT <BR>S70=3 Сочетает режимы S70=1 и S70=2 <BR>S70=4 
                    Определяет номер, но не отображает его. Впоследствии номер 
                    можно посмотреть в статистике по команде ATI6 
              </BLOCKQUOTE></TD></TR>
              <TR vAlign=top>
                <TD noWrap><B>S71 (8)</B> </TD>
                <TD>Длина номера АОН, включая категорию абонента. Максимально 
                  допустимое значение - 8. </TD></TR>
              <TR vAlign=top>
                <TD noWrap><B>S72 (30)</B> </TD>
                <TD>Уровень сигнала запроса к аппаратуре АОН (от 0 до 63) 
                  Значение 0 соответствует минимальной громкости сигнала 
                  запроса, а значение 63 - максимальной громкости. Как правило 
                  достаточно значения по умолчанию (30). Слишком сильный сигнал 
                  запроса может заглушить приемник модема и создать помеху для 
                  правильного определения номера. </TD></TR>
              <TR vAlign=top>
                <TD noWrap><B>S73 (25)</B> </TD>
                <TD>Пауза после подключения к линии и перед посылкой запроса 
                  АОН (в 10-миллисекундных интервалах). Так как после поднятия 
                  трубки модемом в линии происходят переходные процессы, то 
                  необходимо выдерживать паузу перед определением номера, 
                  которая и задается в этом регистре. На разных линиях и 
                  станциях оптимальное значение может различаться. Но необходимо 
                  помнить, что слишком маленькие значения этого регистра 
                  (близкие к 0) создают предпосылки для ложного сраба- тывания 
                  фильтров АОНа на помехи во время переходных процессов, а 
                  слишком большие значения (более 50) не позволят вовремя 
                  послать запрос на АТС, в результате чего номер не определится. 
                </TD></TR>
              <TR vAlign=top>
                <TD noWrap><B>S74 (10)</B> </TD>
                <TD>Максимальная длительность запроса АОН (в 1/100 секунды) 
                  Один длинный запрос позволяет упростить алгоритм определения, 
                  а также удовлетворяет некоторым кривым станциям, для которых 
                  стандартной длительности запроса недостаточно (обычно 100 мс). 
                  Кроме того, удаленные модемы иногда принимают за BUSY серию 
                  коротких гудков в тех случаях, когда номер не определяется. 
                  Для междугородних соединений значение регистра S74 можно 
                  увеличить до 2-х. Но не рекомендуется ставить его больше 3-х 
                  секунд, так как номера некоторых абонентов не определяются по 
                  определению, и они будут вынуждены слушать слишком длинный 
                  гудок. </TD></TR>
              <TR vAlign=top>
                <TD noWrap><B>S75 (3)</B> </TD>
                <TD>Тайм-аут на весь ответ от аппаратуры АОН (в секундах) 
                  Максимальное время, отведенное на прием пакета АОН. По 
                  истечении этого времени прием пакета прерывается и начинается 
                  его дальнейшая обработка. </TD></TR>
              <TR vAlign=top>
                <TD noWrap><B>S76 (100)</B> </TD>
                <TD>Параметр импульсного набора: время импульса (в 
                  миллисекундах). </TD></TR>
              <TR vAlign=top>
                <TD noWrap><B>S77 (80)</B> </TD>
                <TD>Параметр импульсного набора: время между цифрами (в 10-мс 
                  интервалах). </TD></TR>
              <TR vAlign=top>
                <TD noWrap><B>S78 (30)</B> </TD>
                <TD>Громкость сигналов эмуляции по команде ATR и #CID </TD></TR>
              <TR vAlign=top>
                <TD noWrap><B>S79 (42)</B> </TD>
                <TD>Частота сигналов эмуляции в десятках герц. </TD></TR>
              <TR vAlign=top>
                <TD noWrap><B>S80 (2)</B> </TD>
                <TD>
                  <P>Чувствительность входного аналогового тракта АЦП модема во 
                  время сеанса связи (после установления соединения):</P>
                  <BLOCKQUOTE>1 = -6 dB (ослабление чувствительности) <BR>2 = 
                    0 dB <BR>3 = +6 dB (усиление чувствительности) 
              </BLOCKQUOTE></TD></TR>
              <TR vAlign=top>
                <TD noWrap><B>S81 (1)</B> </TD>
                <TD>
                  <P>Общая регулировка уровня выходного сигнала аналогового 
                  тракта ЦАП модема: </P>
                  <BLOCKQUOTE>1 = 0 dB <BR>2 = -6 dB <BR>3 = -12 dB 
                </BLOCKQUOTE></TD></TR>
              <TR vAlign=top>
                <TD noWrap><B>S82 (2)</B> </TD>
                <TD>
                  <P>Чувствительность входного аналогового тракта АЦП модема во 
                  время набора номера и процедуры установки соединения: </P>
                  <BLOCKQUOTE>1 = -6 dB (ослабление чувствительности) <BR>2 = 
                    0 dB <BR>3 = +6 dB (усиление чувствительности) </BLOCKQUOTE>
                  <P>На некоторых телефонных станциях настолько громкие сигналы 
                  отбоя и готовности (busy и dialtone), что они перегружают 
                  входные цепи модема, в результате чего сигнал сильно искажа- 
                  ется и модем не может опознать сигналы АТС. В таких случаях 
                  необходимо понизить чувствительность входных цепей модема 
                  установив значение этого регистра в 1 (S82=1). Усиление 
                  чувствительности на этапе установления соединения как правило 
                  не требуется. </P></TD></TR>
              <TR vAlign=top>
                <TD noWrap><B>S83 (2)</B> </TD>
                <TD>Минимальный уровень детектирования сигналов "занято"(busy) 
                  и "диалтон"(dialtone) (0-255). Иногда на фоне громких сигналов 
                  "занято" в линии присутствует негромкий, но постоянный сигнал 
                  425гц, который модем воспринимает как непрерывный сигнал 
                  dialtone, вместо того чтобы поймать busy. Увеличение значения 
                  этого регистра позволит избежать этого эффекта. 
                  Проконтролируйте настройку, используя результаты команды ATY4. 
                </TD></TR>
              <TR vAlign=top>
                <TD noWrap><B>S84 (0)</B> </TD>
                <TD>
                  <P>Тип фильтра для определения "занято" и "диалтон" (0-3). 
                  Сигнал DIALTONE на всех телефонных линиях должен удовлетворять 
                  некоторым стандартам и составлять 425 +/- 25Гц. Для выделения 
                  этого сигнала модем использует специально настроенный фильтр, 
                  который определяет присутствие в линии сигнала 425Гц. Однако 
                  некоторые АТС не знают, что такое ГОСТы (или люди которые их 
                  делали), поэтому бывает необходимо изменить частотный диапазон 
                  определения сигналов DIALTONE и BUSY (сигналы BUSY тоже должны 
                  быть 425Гц): </P>
                  <BLOCKQUOTE>0 - довольно широкий фильтр выделяющий частоты 
                    350..650 Гц. Для большинства АТС этого более чем достаточно. 
                    <BR>1 - для линий среднего и хорошего качества и электронных 
                    АТС 400..550 Гц. <BR>2 - для линий, где стандартами не 
                    пахнет вообще - 0..700 Гц <BR>3 - очень узкополосный фильтр 
                    410..450Гц. Для линий, где идеальные сигналы BUSY/DIALTONE. 
                    Позволяет отрезать максимум ненужных частот и предотвратит 
                    ложные срабатывания (например шумы, запросы и ответы АОНов и 
                    др.). </BLOCKQUOTE></TD></TR>
              <TR vAlign=top>
                <TD noWrap><B>S85 (0)</B> </TD>
                <TD>Количество RINGING после которых выдается сообщение NO 
                  ANSWER. Если S85=0, то подсчет сигналов RINGING не ведется. 
              </TD></TR>
              <TR vAlign=top>
                <TD noWrap><B>S86 (6)</B> </TD>
                <TD>
                  <P>Битовый регистр, дополнительные режимы:</P>
                  <TABLE cellSpacing=0 cellPadding=5 border=0>
                    <TBODY>
                    <TR vAlign=top>
                      <TD noWrap><B>бит 0 (0)</B> </TD>
                      <TD>Не класть трубку по диагностике NO DIALTONE </TD></TR>
                    <TR vAlign=top>
                      <TD noWrap><B>бит 1 (1)</B> </TD>
                      <TD>Использовать лампу ARQ/FAX во время набора номера 
                        как лампочку OH (Off Hook). В модемах сделанных на базе 
                        спортстеров отсутствует индикатор OFF Hook, который 
                        показывает, находится модем на линии или нет. Когда в 
                        модеме установлено бесшумное реле набора номера, то 
                        бывает полезно контролировать набор номера именно по 
                        индикатору OFF Hook. Установив этот бит в "1" можно 
                        задействовать индикатор ARQ/FAX как OFF Hook на период 
                        набора номера. Для оригинальных модемов Courier лучше 
                        сбросить этот бит в 0. </TD></TR>
                    <TR vAlign=top>
                      <TD noWrap><B>бит 2 (1)</B> </TD>
                      <TD>Запретить разрыв связи при пропадании напряжения в 
                        линии (причина разрыва связи Loop Loss Disconnect) 
</TD></TR>
                    <TR vAlign=top>
                      <TD noWrap><B>бит 3 (0)</B> </TD>
                      <TD>Включить режим определения тонального DTMF-пароля 
                        при ответе модема на входящий звонок. Тональный пароль 
                        должен быть записан в 5-ую ячейку номеров телефонов без 
                        пробелов и специ- альных знаков (тире, запятая и др.). 
                        Допускаются только цифры. </TD></TR>
                    <TR vAlign=top>
                      <TD noWrap><B>бит 4 (0)</B> </TD>
                      <TD>Озвучивать короткие пересогласования (в том числе 
                        Speedshift-ы) </TD></TR></TBODY></TABLE></TD></TR>
              <TR vAlign=top>
                <TD noWrap><B>S87 (8)</B> </TD>
                <TD>Уровень мощности передатчика для удаленного модема AVC-56 
                  (если установлен S88.0=1) </TD></TR>
              <TR vAlign=top>
                <TD noWrap><B>S88 (0)</B> </TD>
                <TD>
                  <P>Битовый регистр, управление запросом уровнями 
                  передатчика</P>
                  <TABLE cellSpacing=0 cellPadding=5 border=0>
                    <TBODY>
                    <TR vAlign=top>
                      <TD noWrap><B>бит 0 (0)</B> </TD>
                      <TD>Разрешить запрос уровня у удаленного модема AVC-56 с 
                        использованием регистра S87 </TD></TR>
                    <TR vAlign=top>
                      <TD noWrap><B>бит 1 (0)</B> </TD>
                      <TD>Запретить изменение уровня мощности своего 
                        передатчика по запросу от удаленного AVC-56 модема 
                    </TD></TR></TBODY></TABLE></TD></TR>
              <TR vAlign=top>
                <TD noWrap><B>S89 (0)</B> </TD>
                <TD>Управление индикатором HS: <BR>
                  <P>Для того, чтобы задать режимы индикации скоростей, 
                  необходимо выполнить два простых арифметических действия:</P>
                  <P>S89 = Скорость1 + Скорость2 * 16</P>
                  <P>Индекс скорости должен задаваться по следующей таблице: 
                  <BR></P>
                  <TABLE cellSpacing=0 cellPadding=5 border=0>
                    <TBODY>
                    <TR vAlign=top>
                      <TD noWrap><B>00</B> </TD>
                      <TD>Индикатор HS всегда выключен </TD></TR>
                    <TR vAlign=top>
                      <TD noWrap><B>01</B> </TD>
                      <TD>2400 бит/сек </TD></TR>
                    <TR vAlign=top>
                      <TD noWrap><B>02</B> </TD>
                      <TD>4800 бит/сек </TD></TR>
                    <TR vAlign=top>
                      <TD noWrap><B>03</B> </TD>
                      <TD>7200 бит/сек </TD></TR>
                    <TR vAlign=top>
                      <TD noWrap><B>04</B> </TD>
                      <TD>9600 бит/сек </TD></TR>
                    <TR vAlign=top>
                      <TD noWrap><B>05</B> </TD>
                      <TD>12000 бит/сек </TD></TR>
                    <TR vAlign=top>
                      <TD noWrap><B>06</B> </TD>
                      <TD>14400 бит/сек </TD></TR>
                    <TR vAlign=top>
                      <TD noWrap><B>07</B> </TD>
                      <TD>16800 бит/сек </TD></TR>
                    <TR vAlign=top>
                      <TD noWrap><B>08</B> </TD>
                      <TD>19200 бит/сек </TD></TR>
                    <TR vAlign=top>
                      <TD noWrap><B>09</B> </TD>
                      <TD>21600 бит/сек </TD></TR>
                    <TR vAlign=top>
                      <TD noWrap><B>10</B> </TD>
                      <TD>24000 бит/сек </TD></TR>
                    <TR vAlign=top>
                      <TD noWrap><B>11</B> </TD>
                      <TD>26400 бит/сек </TD></TR>
                    <TR vAlign=top>
                      <TD noWrap><B>12</B> </TD>
                      <TD>28800 бит/сек </TD></TR>
                    <TR vAlign=top>
                      <TD noWrap><B>13</B> </TD>
                      <TD>31200 бит/сек </TD></TR>
                    <TR vAlign=top>
                      <TD noWrap><B>14</B> </TD>
                      <TD>33600 бит/сек </TD></TR>
                    <TR vAlign=top>
                      <TD noWrap><B>15</B> </TD>
                      <TD>включается на протоколе V.90 
</TD></TR></TBODY></TABLE><BR>
                  <TABLE>
                    <TBODY>
                    <TR>
                      <TD><B>Соотношение скоростей:</B> </TD>
                      <TD><B>HS индикатор:</B> </TD></TR>
                    <TR>
                      <TD>Connect &lt;Скорость</TD>
                      <TD>не горит </TD></TR>
                    <TR>
                      <TD width=250>Скорость1 &lt; Connect &lt;Скорость2</TD>
                      <TD>мигает </TD></TR>
                    <TR>
                      <TD>Connect &gt; Скорость2 </TD>
                      <TD>горит непрерывно </TD></TR></TBODY></TABLE><BR></TD></TR>
              <TR vAlign=top>
                <TD noWrap><B>S90 (0)</B> </TD>
                <TD>Битовый регистр. Управление режимами эмуляции гудков ATR. 
                  <BR>
                  <TABLE cellSpacing=0 cellPadding=5 border=0>
                    <TBODY>
                    <TR vAlign=top>
                      <TD noWrap><B>бит 0 (0)</B> </TD>
                      <TD>Прерывать эмуляцию ATR при понижении тока в линии 
                        (поднята трубка параллельного аппарата). Необходим 
                        специальный датчик линии. Если датчик в модеме не 
                        установлен, то этот бит ставить нельзя ! </TD></TR>
                    <TR vAlign=top>
                      <TD noWrap><B>бит 1 (0)</B> </TD>
                      <TD>Прерывать эмуляцию при обнаружении сигналов 
                        "занято". </TD></TR>
                    <TR vAlign=top>
                      <TD noWrap><B>бит 2(0)</B> </TD>
                      <TD>Прерывать эмуляцию при превышении порогового уровня 
                        шума (голос) </TD></TR>
                    <TR vAlign=top>
                      <TD noWrap><B>бит 3</B> </TD>
                      <TD>Зарезервирован </TD></TR>
                    <TR vAlign=top>
                      <TD noWrap><B>бит 4(0)</B> </TD>
                      <TD>Выдавать сообщения RINGBACK синхронно с эмуляцией 
                        гудков </TD></TR></TBODY></TABLE></TD></TR>
              <TR vAlign=top>
                <TD noWrap><B>S91 (0)</B> </TD>
                <TD>Управление сообщениями CONNECT: <BR>
                  <TABLE cellSpacing=0 cellPadding=5 border=0>
                    <TBODY>
                    <TR vAlign=top>
                      <TD noWrap><B>бит 0 (0)</B> </TD>
                      <TD>Добавлять информацию о скорости на прием 
                        (/RX:nnnn/TX:nnnn) </TD></TR>
                    <TR vAlign=top>
                      <TD noWrap><B>бит 1 (0)</B> </TD>
                      <TD>Добавлять информацию об удаленном модеме /REM=... 
                    </TD></TR></TBODY></TABLE></TD></TR>
              <TR vAlign=top>
                <TD noWrap><B>S98 (0)</B> </TD>
                <TD>Время в секундах для задержки сообщения RING. Может 
                  использоваться для задержки реакции на входящий звонок. 0 - 
                  нет задержек. </TD></TR>
              <TR vAlign=top>
                <TD noWrap><B>S99 (0)</B> </TD>
                <TD>Битовый регистр, режимы АОН: 
                  <TABLE cellSpacing=0 cellPadding=5 border=0>
                    <TBODY>
                    <TR>
                      <TD vAlign=top noWrap><B>бит0 (0)</B> </TD>
                      <TD vAlign=top colSpan=2>Определять номер по любому 
                        поднятию трубки, (кроме ATD) </TD></TR>
                    <TR>
                      <TD vAlign=top noWrap><B>бит1 (0)</B> </TD>
                      <TD vAlign=top noWrap colSpan=2>Смену состояния линии RI 
                        com-порта считать признаком входного звонка </TD></TR>
                    <TR>
                      <TD vAlign=top noWrap rowSpan=2><B>бит2 (0)</B> </TD>
                      <TD vAlign=top noWrap align=middle rowSpan=2><B>бит3 
                        (0)</B> </TD>
                      <TD vAlign=top width="100%" rowSpan=2>Тип сообщения 
                    </TD></TR>
                    <TR vAlign=top></TR>
                    <TR>
                      <TD noWrap align=middle>0 </TD>
                      <TD align=middle>0 </TD>
                      <TD vAlign=top>СALLER ID: </TD></TR>
                    <TR>
                      <TD noWrap align=middle>0 </TD>
                      <TD align=middle>1 </TD>
                      <TD vAlign=top>CallerID: </TD></TR>
                    <TR>
                      <TD noWrap align=middle>1 </TD>
                      <TD align=middle>0 </TD>
                      <TD vAlign=top>CALLER'S NUMBER: </TD></TR>
                    <TR>
                      <TD noWrap align=middle>1 </TD>
                      <TD align=middle>1 </TD>
                      <TD vAlign=top>CALLER_ID: </TD></TR>
                    <TR>
                      <TD vAlign=top noWrap><B>бит4 (0)</B> </TD>
                      <TD vAlign=top colSpan=2>Делать попытку определения 
                        номера по команде ATD в случае когда S86.0=1 (коллизия 
                        звонков) </TD></TR>
                    <TR>
                      <TD vAlign=top noWrap><B>бит5</B> </TD>
                      <TD vAlign=top colSpan=2>Зарезервирован </TD></TR>
                    <TR>
                      <TD vAlign=top noWrap><B>бит6</B> </TD>
                      <TD vAlign=top colSpan=2>Зарезервирован </TD></TR>
                    <TR>
                      <TD vAlign=top noWrap><B>бит7 (0)</B> </TD>
                      <TD vAlign=top colSpan=2>Выводить сырой код для отладки 
                        и дополнительного анализа </TD></TR></TBODY></TABLE></TD></TR>
              <TR vAlign=top>
                <TD noWrap><B>S100 (10)</B> </TD>
                <TD>Минимальная длительность сигналов BUSY. В единицах по 20 
                  мс </TD></TR>
              <TR vAlign=top>
                <TD noWrap><B>S101 (35)</B> </TD>
                <TD>Максимальная длительность сигналов BUSY. В единицах по 20 
                  мс </TD></TR>
              <TR vAlign=top>
                <TD noWrap><B>S102 (4)</B> </TD>
                <TD>Минимальная длительность пауз между сигналами BUSY. В 
                  единицах по 20 мс </TD></TR>
              <TR vAlign=top>
                <TD noWrap><B>S103 (255)</B> </TD>
                <TD>Максимальная длительность пауз между сигналами BUSY. В 
                  единицах по 20 мс </TD></TR>
              <TR vAlign=top>
                <TD noWrap><B>S104 (9)</B> </TD>
                <TD>Минимальная длительность сигналов RINGING. В единицах по 
                  20 мс </TD></TR>
              <TR vAlign=top>
                <TD noWrap><B>S105 (125)</B> </TD>
                <TD>Максимальная длительность сигналов RINGING. В единицах по 
                  20 мс </TD></TR>
              <TR vAlign=top>
                <TD noWrap><B>S106 (75)</B> </TD>
                <TD>Минимальная длительность пауз между сигналами RINGING. В 
                  единицах по 20 мс </TD></TR>
              <TR vAlign=top>
                <TD noWrap><B>S107 (24)</B> </TD>
                <TD>Минимально-допустимая длительность одного периода 
                  вызывного сигнала RING. В единицах по 0.4 мс </TD></TR>
              <TR vAlign=top>
                <TD noWrap><B>S108 (180)</B> </TD>
                <TD>Максимально-допустимая длительность одного периода 
                  вызывного сигнала RING. В единицах по 0.4 мс </TD></TR>
              <TR vAlign=top>
                <TD noWrap><B>S109 (4)</B> </TD>
                <TD>Минимальная скважность вызывного сигнала RING: (общее 
                  время периода)/(время положительного полупериода) Если Ваш 
                  модем не определяет или плохо определяет входящие звонки, 
                  попробуйте поэкспериментировать со значением этого регистра на 
                  несколько единиц в "+" и в "-". </TD></TR>
              <TR vAlign=top>
                <TD noWrap><B>S110 (3)</B> </TD>
                <TD>Количество сигналов "занято", необходимых для диагностики 
                  BUSY. При значении меньше трех возможны ложные срабатывания, 
                  поэтому пользуйтесь этим параметром достаточно осторожно. 
              </TD></TR>
              <TR vAlign=top>
                <TD noWrap><B>S111 (0)</B> </TD>
                <TD>Управление <A 
                  href="http://www.usrmodem.ru/modems/upgrade.shtml#u4">датчиком 
                  линии</A>. Только для модемов с установленным датчиком. <BR>
                  <TABLE cellSpacing=0 cellPadding=5 border=0>
                    <TBODY>
                    <TR vAlign=top>
                      <TD noWrap><B>бит 0 (0)</B> </TD>
                      <TD>Разрешить работу датчика </TD></TR>
                    <TR vAlign=top>
                      <TD noWrap><B>бит 1 (0)</B> </TD>
                      <TD>Перед набором номера проверять напряжение и выдавать 
                        NO DIALTONE, если линия занята другим аппаратом 
                    </TD></TR></TBODY></TABLE></TD></TR>
              <TR vAlign=top>
                <TD noWrap><B>S115 (128)</B> </TD>
                <TD>Размер кадра протокола V.42 </TD></TR></TBODY></TABLE>
            <H4 align=center>Благодарности за помощь в создании прошивки AVC 
            </H4>
            <P>Особые благодарности Владимиру Додонову (за неоценимую помощь и 
            моральную поддержку),<BR>Константину Норватову (за предоставленную 
            информацию по прошивкам USR),<BR>всем пользователям модемов Курьер 
            за найденные баги и новые предложения. </P>
            <P>При создании прошивки использовались фрагменты кода супервизора 
            оригинальных прошивок модемов USR, а также без изменений (кроме 
            дополнения АОНа) используется код DSP от USR. </P>
            <H4 align=center><BR><A name=13><BR></A>13. Гарантии </H4>
            <P>Никакие виды гарантий не предусматриваются и не предполагаются. 
            Программное обеспечение (прошивка) Advanced Voice Courier(tm) 
            поставляется в соответствии с международным принципом поставок 
            программного обеспечения "AS IS" ("как есть"). Это означает, что Вы 
            устанавливаете прошивку в модем на свой страх и риск. Автор не несет 
            никакой ответственности за работу прошивки на конкретном модеме и 
            конкретной телефонной линии. Авторы также не несут никакой 
            ответственности за порчу оборудования или за иные материальные и 
            моральные ущербы, связанные с данным программным продуктом. Перед 
            использованием прошивки настоятельно рекомендуется подробно изучить 
            настоящую документацию, оригинальную документацию на модем Courier 
            V.Everything, а также почитать FAQ и полезные советы на страницах 
            сайта www.USRModem.ru. </P>
            <P>Автор с удовольствием выслушает ваше мнение, а также интересные 
            предложения и замечания по поводу дальнейшего совершенствования 
            прошивки. Направляйте ваши письма по адресу vavaev@usrmodem.ru 
            Андрею Ваваеву. </P>
            <H4 align=center><BR><A name=14></A><BR>14. Условия распространения 
            </H4>
            <P>Прошивка AVC-56/33.6 является свободно-распространяемым 
            программным обеспечением (Freeware) и может свободно копироваться 
            для некоммерческого использования при условии того, что оригинальный 
            дистрибутив сохранен. Все вопросы коммерческого использования 
            прошивки AVC-56/33.6 должны быть согласованы непосредственно с 
            автором - Андреем Ваваевым. Запрещается также предпродажная 
            установка прошивки в модемы USR Courier. </P>
            <P>© Андрей В.Ваваев. Все права защищены. 
            <BR><STRONG>E-Mail:</STRONG> <A 
            href="mailto:vavaev@usrmodem.ru">vavaev@usrmodem.ru</A> 
            <BR><STRONG>FidoNet:</STRONG> 2:5020/633.1 
      </P><BR></TD></TR></TBODY></TABLE></TD></TR>
  <TR>
    <TD class=clsColor1>
      <SCRIPT>document.write(menufooter)</SCRIPT>
    </TD></TR></TBODY></TABLE>
<TABLE style="BORDER-COLLAPSE: collapse" borderColor=#111111 cellSpacing=0 
cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR>
    <TD vAlign=center align=right width="45%" bgColor=#c0c0c0><A 
      href="http://gangopolis.narod.ru/Hard/OglavlenieIndex.htm"><IMG height=26 
      src="Руководство пользователя Advanced Voice Courier 56K-33_6K v2_1_10  www_usrmodem_ru.files/GoBack.gif" 
      width=32 border=0></A></TD>
    <TD vAlign=center align=right width="56%" bgColor=#c0c0c0>
      <P align=left><B><FONT color=#0066cc size=4><A 
      href="http://gangopolis.narod.ru/Hard/OglavlenieIndex.htm">Н<SPAN 
      lang=ru>азад</SPAN></A></FONT></B></P></TD></TR></TBODY></TABLE><!-- ><!-- "><!-- '><!-- --></TEXTAREA></FORM></TITLE></COMMENT></A>
<DIV></DIV></SPAN></ILAYER></LAYER></IFRAME></NOFRAMES></STYLE></NOSCRIPT></TABLE></SCRIPT></APPLET></FONT>
<STYLE>#bn {
	DISPLAY: block
}
#bt {
	DISPLAY: block
}
</STYLE>

<DIV 
style="BACKGROUND: url(http://www.tns-counter.ru/V13a****yandex_ru/ru/CP1251/tmsec=narod_total/)"></DIV>
<SCRIPT language=JavaScript 
src="Руководство пользователя Advanced Voice Courier 56K-33_6K v2_1_10  www_usrmodem_ru.files/163.htm"></SCRIPT>
<!-- mailto:spm111@yandex.ru --></BODY></HTML>

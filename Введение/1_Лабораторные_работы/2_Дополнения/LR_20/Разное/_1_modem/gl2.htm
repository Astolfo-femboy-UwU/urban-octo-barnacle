<html><head>
<title>Основные понятия</title>
		    <style type="text/css">
A.noneline { font-family: Arial, Serif; text-decoration: none; }
FONT.arial { font-family: Arial, Serif; }
TD.arial   { font-family: Arial, Serif; }
TH.arial   { font-family: Arial, Serif; }
PRE        { font-family: Monospace; color: navy; }
SAMP       { font-family: Monospace; color: navy; }
TT         { font-family: Monospace; color: navy; }
VAR        { font-family: Monospace; color: navy; }
</style>
</head>
<body bgcolor="#FFF5EE" text="#000000" link="#FF0000" alink="#FF0000" vlink="#A52A2A">
<basefont size="3">
<h3 align=center>Глава 2. Основные понятия</h3>
<p align=justify>Глава 2 содержит основные сведения о модемах и  принципах  передачи  данных,  а также описание вопросов совместимости
модемов и факсов.  Опытный пользователь  может  пропустить  эту
главу.
<a name=1></a>
<h4>Что такое модем</h4>
<p align=justify>Как известно,  данные  в  компьютере  представлены в цифровой
форме - закодированные в виде нулей и единиц, которым физически
соответствует низкий или высокий уровень напряжения. Телефонная
же сеть рассчитана на передачу речевых сообщений,  представляемых  в форме аналоговых электрических сигналов,  поэтому непосредственная передача цифровой информации через телефонную  сеть
невозможна.
<p align=justify>Итак, для  преобразования форм представления информации
необходимо некоторое устройство включаемое между компьютером  и
телефонной линией.  Такое устройство называют модемом (сокращение от МОДулятор-ДЕМодулятор).
<p align=justify>В общих  чертах,  связь  через модем работает следующим
образом:  Пусть два компьютера соединены через  модемы  друг  с
другом  по  телефонной  линии.  Тогда  поток  данных из первого
компьютера в цифровой форме поступает в модем первого компьютера, где преобразуется в аналоговую форму, пригодную для передачи по телефонному каналу. С выхода первого модема преобразованные в аналоговую форму данные попадают в телефонную линию.
<p align=justify>Процесс преобразования  данных из цифровой в аналоговую
форму называется модуляцией.
<p align=justify>В свою очередь,  аналоговый сигнал, попав из телефонной
линии на вход модема второго компьютера, преобразуется в цифровой поток данных, который принимается вторым компьютером.
<p align=justify>Процесс преобразования данных  из  аналоговой  формы  в
цифровую называется демодуляцией.
<p align=justify>Таким образом,  основное назначение модема - преобразование данных из цифровой формы в аналоговую,  пригодную для передачи  по телефонному каналу и наоборот из аналоговой в цифровую, воспринимаемую компьютером.
<p align=justify>Модемы по способу подключения к телефонному каналу  делятся  на  акустические и с непосредственным подключением.  Ваш
модем относится ко второму классу устройств,  так как  электрически связан с телефонной линией.
<p align=justify>Являясь интеллектуальным устройством, Ваш модем поддерживает такие функции, как автоматический набор номера и автоответ.  Автонабор  освобождает Вас от необходимости вручную набирать номер другого модема,  а автоответ позволяет Вашему модему
автоматически отвечать на звонки других модемов, причем ваш модем автоматически освобождает линию ("вешает трубку"), при разрыве  соединения  вызывающей стороной.  Для получения детальной
информации об автонаборе и автоответе обратитесь к главам <a href=gl4.htm>4</a> и <a href=gl5.htm>5</a> соответственно.
<a name=2></a>
<h4>Что такое скорость передачи данных</h4>
<p align=justify>Выше указывалось,  что основным назначением модема  является
преобразование  цифровых  данных в аналоговую форму,  пригодную
для передачи через телефонную сеть. Итак, передающему модему от
компьютера  передается поток бит.  В зависимости от физического
протокола передачи данных,  по которому работает модем, при модуляции модем ставит в соответствие каждому биту или последовательности бит цифровой информации некий аналоговый сигнал. Единицей скорости изменения сигнала (т.е.  скорости передачи в канале) является бод.  Нас,как правило,  будет интересовать  скорость передачи цифровых данных,  а не скорость передачи в канале,  поэтому, в дальнейшем, под скоростью передачи данных будем
подразумевать  цифровую скорость передачи и пользоваться единицами измерения бит/с.
<p align=justify>Так как  в одном изменении состояния сигнала может быть
закодированно несколько бит информации,  очевидно, что скорость
передачи цифровых данных и скорость работы канала совпадают далеко не всегда.  Поэтому не следует  смешивать  понятия  бод  и
бит/с.
<p align=justify>В зависимости от модели Вашего и удаленного модема,  вы
можете устанавливать соединения на следующих скоростях:
<p>Если модем поддерживает протокол
<ul>
<li><b>V.32bis</b>    - максимальная скорость составляет 14400 бит/с.
<li><b>V32</b> - 9600 бит/с.
<li><b>V22/V22bis</b> - 2400 бит/с.
</ul>
<p align=justify>В среднем,  при передаче данных через модем,  каждым  десяти
переданным  битам соответствует 1-байт или символ машинописного
текста.  Часто скорость передачи данных измеряют в  символах  в
секунду  (обозначается  cps  - от английского Character Per Second) Поэтому передаче данных на скорости 14400бит/с будет  соответствовать  приблизительно 1440 cps (для асинхронного метода
передачи).
<a name=3></a>
<h4>Установление соединений для передачи данных</h4>
<p align=justify>Когда Вы  звоните  на другой модем или Ваш модем отвечает на
звонок удаленного модема,  модем пытается установить соединение
для передачи данных на максимально возможной скорости. Эта особенность позволяет свести к минимуму время занятости телефонного канала и уменьшить стоимость передачи данных.
<p align=justify>Если линия  зашумленная  или удаленный модем не поддерживает
высокую скорость передачи,  Ваш модем может автоматически переходить на более низкую скорость до тех пор, пока не найдет подходящую. После этого два модема начинают обмениваться специальными  сигналами  подтверждения (handshake),  при помощи которых
согласовываются протоколы передачи данных.  Если модемы установили соединение,  то Ваш модем выдает соответствующее сообщение
CONNECT ( например CONNECT 2400 ) и модемы начинают обмен  данными.
<a name=4></a>
<h4>Телекоммуникационное программное обеспечение</h4>
<p align=justify>Для работы с модемом  требуется  телекоммуникационное  программное обеспечение. В настоящее время поставляется большое количество телекоммуникационных пакетов.  Ваш модем  совместим  с
большинством из них.
<p align=justify>После загрузки коммуникационной программы Вы можете перевести ее в режим эмуляции терминала (в  разных  пакетах  этот
режим  может называться по разному,  например terminal mode или
direct mode),  управляя модемом при помощи AT-команд,  вводимых
вручную,  и получая ответы модема, выдаваемые на экран. Однако,
большинство коммуникационных пакетов позволяет делать это более
простым  путем,  при этом программа служит как бы буфером между
пользователем и модемом, позволяя управлять модемом не только с
помощью AT-команд,  но и через систему меню, а так же выполнять
более сложные процедуры по передаче  файлов,  ведению  записных
книжек,  автодозвону до абонента, эмуляцию различных терминалов
и т.п.
<p align=justify>Если вам не интересно, что происходит "за экраном дисплея" и
как управлять модемом напрямую с помощью AT-команд, можно сразу
после загрузки ПО приступить к работе с  модемом  и  пропустить
остальные главы этого руководства.
<a name=5></a>
<h4>Работа в асинхронном режиме</h4>
<p align=justify>Существуют два метода обмена  данными  -  синхронный  и
асинхронный. Синхронный метод поддерживается только внешним модемом и используется достаточно редко.  Если вы все же пользуетесь синхронным устройством,  обратитесь к главе () данного руководства.
<p align=justify>В асинхронном режиме при передаче байта,  (группа  бит,
кодирующая передаваемый символ), наряду с битами данных в поток
вставляются служебные биты: стартовый бит, стоповые биты, иногда биты контроля четности.
<p>Итак:<ul>
<li>стартовый бит: Указывает начало байта данных
<li>биты данных   : собственно данные
<li>бит четности :  Проверочный бит,  обычно устанавливаемый в
ноль  или  единицу  так,  чтобы общее число единиц в байте было
всегда или четно,  или нечетно. Этот бит используется для контроля правильности передачи данных при работе с большими машинами (mainframes).
<li>стоповые биты: Один или два бита, означающих конец передаваемого байта.
</ul>
<a name=6></a>
<h4>Режим команд и режим данных</h4>
<ul type=disk>
<li><a href=#6_1>Переключение модема в командный режим</a>
<li><a href=#6_2>Переключение модема в режим данных</a>
<li><a href=#6_3>Смена режима</a>
</ul>
<p align=justify>Ваш модем может находиться в одном из двух основных  режимов
- командном режиме или режиме данных.  В командном режиме модем
исполняет команды, выдаваемые оператором. В режиме данных модем
воспринимает  все,  что  может  быть получено от компьютера как
данные,  которые должны быть переданы в линию.  Таким  образом,
бесполезно  вводить  команды в режиме данных,  так как модем не
воспримет их как команды.
<p align=justify>Ниже описано, как модем переключается между этими режимами.
<a name=6_1></a>
<p><i>Переключение модема в командный режим</i>
<p align=justify>Модем автоматически переключается в командный режим в следующих случаях:
<ul>
<li>При включении питания Вашего компьютера
<li>При потере соединения с удаленным модемом
<li>Если модем набирает номер, а Вы нажали какую-нибудь клавишу на клавиатуре Вашего компьютера.  ( В этом случае, перед тем
как перейти в командный режим, модем аннулирует текущий вызов.)
<li>При обнаружении перехода сигнала DTR (Data Terminal Ready)
из состояния "ON" ("включен") в "OFF" ("выключен"), если задана
одна из команд &D1, &D2 или &D3.
</ul>
<a name=6_2></a>
<p><i>Переключение модема в режим данных</i>
<p align=justify>Модем автоматически  переходит в режим данных после установления соединения с удаленным модемом или факсом.
<p align=justify>Как описывалось выше,  в момент установления соединения, модемы проводят обмен подтверждающими сигналами (handshake), после чего начинают обмен данными.  Обычно,  в момент установления
соединения и при передаче данных, звук в динамике модема отключается,  однако, если необходимо слышать, что происходит на линии, то можно включить постоянный аудиоконтроль командой M2.
<a name=6_3></a>
<p><i>Смена режима</i>
<p align=justify>Если Ваш модем установил асинхронное соединение с  удаленным
модемом,  то перевести его в командный режим, не разрывая текущее соединение, можно, введя с клавиатуры специальную управляющую последовательность символов, которая называется Escape-последовательностью.
<p align=justify>По умолчанию, Escape-последовательностью является последовательность из трех подряд символов "плюс" - "+++". Если требуется,  данные символы можно заменить, изменив содержимое регистра
S2. Подробнее об этом читайте в <a href=gl7.htm>Главе 7</a>.
<p align=justify>Ниже приводится процедура, в которой описано, как при помощи
Escape - последовательности переходить из режима данных  в  командный режим, не теряя при этом установленного соединения.
<ul>
<li>Escape-символы в синхронном режиме игнорируются
</ul><ol>
<li>после  установления  асинхронного  соединения с удаленным
модемом подождите не менее одной секунды,  прежде чем  что-либо
набирать.
<li>Введите  Escape-символ три раза,  по-умолчанию три подряд
символа "+" и подождите не менее одной секунды.
<li>Примерно через 1-2 секунды модем должен выдать OK  и  перейти в командный режим без разрыва соединения.
<p>Теперь можно посылать модему AT-команды, например для чтения
или изменения значений S-регистров.
<li>Для возобновления передачи данных (если вы  не  разорвали
   соединение) наберите ATO и нажмите &lt;Enter&gt;, модем выдаст сообщение "CONNECT nnnn",  где nnnn - скорость  установленного
   соединения, после чего вернется в режим данных.
<p>Естественно, такой возврат возможен только в том случае, если Вы не выдавали команд, приводящих к разрыву соединения.
<p>Вместо команды O можно пользоваться и другими командами:
</ol>
<p align=justify>Если Вы желаете,  чтобы, помимо обычного возврата в режим данных,  Ваш и удаленный модем провели также и тестирование
канала с целью оптимизации параметров передаваемых ими сигналов
с учетом особенностей данного канала (затухание, отражения, несогласованность и т.д.), воспользуйтесь командой O1.
<p align=justify>Если и Ваш,  и удаленный модем поддерживают протоколы исправления ошибок и сжатия данных (MNP,  V.42,  V.42bis) и Вы хотите
возобновить дальнейшую передачу данных  с  использованием  этих
протоколов (причем первоначально соединение установлено без использования протоколов коррекции ошибок),  следует использовать
команду \O (введите AT \O &lt;Enter&gt;)
<a name=7></a>
<h4>Ввод AT-команд</h4>
<p align=justify>Для управления функциями модема, такими как набор номера, установление  соединения  для передачи данных или факс-сообщений,
ответ удаленному модему или разъединение,  используются  AT-команды.  Для того,  чтобы ввести AT-команду,  необходимо набрать
командную строку, завершив ее клавишей &lt;Enter>, когда модем находится а командном режиме. Детально работа с AT-командами описывается в <a href=gl3.htm>Главе 3</a>. 
<a name=8></a>
<h4>Сообщения модема.</h4>
<p align=justify>После того, как Вы послали модему команду и ее выполнение завершено, модем выдает сообщение о результатах (обычно подтверждающее сообщение "OK").
<blockquote><p align=justify>Замечание. Некоторые коммуникационные программы перехватывают
это сообщение и Вы не всегда можете видеть ответы модема у себя
на экране.</blockquote>
<p align=justify>Полное описание всех выдаваемых модемом сообщений приведено в
<a href=gl3.htm>Главе 3</a>.
<a name=9></a>
<h4>Вопросы совместимости</h4>
<p align=justify>В таблицах  2-2 и 2-3,  соответственно,  приведены стандарты
протоколов передачи данных и факс-сообщений поддерживаемые  Вашим  модемом.  Здесь  же указаны максимальные скорости передачи
данных, возможные при работе в соответствии с тем или иным протоколом.
<center>Таблица 2-2 Протоколы передачи данных
<table border>
<tr valign=top><th>Максимальная скорость, бит/с<th>Стандарт</tr>
<tr valign=top><td>14400<td>МКТТ V.32bis</tr>
<tr valign=top><td>9600<td>МКТТ V.32</tr>
<tr valign=top><td>2400<td>МКТТ V.22bis</tr>
<tr valign=top><td>1200<td>МКТТ V.22</tr>
<tr valign=top><td>1200<td>Bell 212</tr>
<tr valign=top><td>1200/75<td>МКТТ V.23</tr>
<tr valign=top><td>300<td>МКТТ V.21</tr>
<tr valign=top><td><td>Bell 103</tr>
</table>
<p>Таблица 2-3 Протоколы передачи факс-сообщений
<table border>
<tr valign=top><th>Максимальная скорость, бит/с<th>Стандарт</tr>
<tr valign=top><td>14400<td>МКТТ V.17</tr>
<tr valign=top><td>9600<td>МКТТ V.29</tr>
<tr valign=top><td>7200<td></tr>
<tr valign=top><td>4800<td></tr>
<tr valign=top><td>4800<td>МКТТ V.27ter</tr>
<tr valign=top><td>2400<td></tr>
<tr valign=top><td>300<td>МКТТ V.21 CH. 2</tr>
</table></center>
<p><center><p>
<font size=-1>
<a href="gl1.htm">Назад</a> | <a href="index.htm">Содержание</a> | <a href="gl3.htm">Вперед</a></font></center></p>
</p>
<hr noshade>
<center>
<font size=1 class=arial>
Comments: <a href="mailto:info@citmgu.ru?Subject='From bottom of CIT FORUM'" class=noneline>info@citmgu.ru</a><br>
Copyright &copy; <a href="http://www.citmgu.ru/" class=noneline>CIT</a>
</font></center></body></html>

<html><head>
<title>Использование конфигурационных профилей</title>
		    <style type="text/css">
A.noneline { font-family: Arial, Serif; text-decoration: none; }
FONT.arial { font-family: Arial, Serif; }
TD.arial   { font-family: Arial, Serif; }
TH.arial   { font-family: Arial, Serif; }
PRE        { font-family: Monospace; color: navy; }
SAMP       { font-family: Monospace; color: navy; }
TT         { font-family: Monospace; color: navy; }
VAR        { font-family: Monospace; color: navy; }
</style>
</head>
<body bgcolor="#FFF5EE" text="#000000" link="#FF0000" alink="#FF0000" vlink="#A52A2A">
<basefont size="3">
<h3 align=center>Глава 6. Использование конфигурационных профилей</h3>
<p align=justify>Заводские настройки модема позволяют приступать к обмену  данными  сразу  после  установки модема и коммуникационного
программного обеспечения.
<p align=justify>Если ваши требования к настройкам отличаются от предоставляемых  конфигураций  по умолчанию,  вы можете изменить их и
сохранить конфигурационные профили в NVRAM модема.  Эти профили
сохраняются после выключения модема и могут быть в любой момент
считаны соответствующими командами.
<p align=justify>В модеме имеются два конфигурационных профиля с номерами 0 и 1.
<p align=justify>Для записи того или иного профиля в NVRAM  используется
команда &Wn,  где n может быть 0 или 1 для записи соответствующего профиля.  В профиле могут быть указаны  следующие  команды:
<pre>
	B1, E1, F0, L2, M1, Q0, V1, X4, Y0, &C0, &D0,
	&G0, &J0, &L0, &M0, &P0, &S0, &T0
</pre>
        также сохраняются значения следующих регистров
<pre>
	S0=0, S1=0, S2=43, S3=13, S4=10, S5=8, S6=2,
	S7=50, S8=2, S9=6, S11=95, S12=50, S14=???H,
	S21=??H, S22=??H, S23=??H, S25=5, S26=1, S27=??H
</pre>
(Везде приведены значения по умолчанию.)
<p align=justify>Кроме того, сохраняются команды, управляющие протоколами коррекции ошибок и сжатия данных,  а так же все S-регистры с
номерами больше 30.
<a name=1></a>
<h4>Запись профиля</h4>
<p align=justify>Приведенный далее пример показывает, как сохранять профиль.  Предположим, что необходимо записать следующие настройки
в профиль с номером 0:
<pre>
	 X1 E0 &C1 &D0 &M0 S0=3 S10=100
</pre>
        Для этого:
<ol>
<li>Наберите AT
<li>Наберите команды, указанные выше
<li>Наберите &W0, эта команда говорит что команды и значения регистров, установленные в данный момент, следует записать в профиль 0
<li>Нажмите &lt;Enter&gt;, при этом модем ответит OK, что указывает на
то что команды и значения регистров сохранены в профиле 0.
</ol>
<a name=2></a>
<h4>Вызов профиля</h4>
<p align=justify>Однажды записанный профиль будет устанавливаться  модемом  всякий раз при включении питания.  Для указания,  какой из
двух возможных профилей необходимо считать, используется команда &Yn, где n - номер профиля, 0 или 1.
<p align=justify>Например, для того,  чтобы при включении питания всегда
загружался профиль 0:
<ol>
<li>Наберите AT&Y0
<li>Нажмите &lt;Enter&gt;,  при этом, когда вы в следующий раз
включите питание,  модем переустановит свои рабочие параметры из профиля 0.
</ol>
<a name=3></a>
<h4>Сброс с вызовом указанного профиля</h4>
<p align=justify>Вы можете использовать команду Zn для сброса  модема  и
загрузки сохраненного конфигурационного профиля.
<p>Например, сброс с вызовом профиля 0.
<oL>
<li>Наберите AT Z0
<li>Нажмите &lt;Enter&gt;.
</ol>
<p align=justify>Если необходимо после сброса загрузить профиль 1 вместо
профиля 0, следует набрать AT Z1 вместо Z0.
<a name=4></a>
<h4>Возврат к стандартному профилю по умолчанию.</h4>
<p align=justify>Чтобы вернуться к стандартному профилю,  воспользуйтесь
командой AT&F.
<p>Пример:
<ol>
<li>Наберите AT &F
<li>Нажмите  &lt;Enter&gt;,  при этом рабочие параметры модема
будут установлены в соответствии с таблицей.
</ol>
(Таблица приводится только для справок и не является полной.)
<p><table border=1>
<tr valign=top><th>Параметр<th>Значение по умолчанию<th>Возможность умолчания записью NVRAM</tr>
<TR VALIGN=TOP><TD>Автоответ <TD> Запрещен <TD align=center> да </TR>
<TR VALIGN=TOP><TD>Код символа <Backspace> (забой) <TD> 08 <TD align=center> нет </TR>
<TR VALIGN=TOP><TD>Совместимость BELL/CCITT на скорости 1200 bps <TD> Bell 212A <TD align=center> да </TR>
<TR VALIGN=TOP><TD>Детектор сигнала "занято" <TD> разрешен <TD align=center> да </TR>
<TR VALIGN=TOP><TD>Код символа "возврат каретки" <TD> 13 <TD align=center> нет </TR>
<TR VALIGN=TOP><TD>Код символа "перевод строки" <TD> 10 <TD align=center> нет </TR>
<TR VALIGN=TOP><TD>Скорость передачи <TD> 9600 <TD align=center> нет </TR>
<TR VALIGN=TOP><TD>Состояние DSR <TD> Всегда активное <TD align=center> да </TR>
<TR VALIGN=TOP><TD>Контроль DTR <TD> Игнорируется <TD align=center> да </TR>
<TR VALIGN=TOP><TD>Длительность DTR <TD> 50мс <TD align=center> да </TR>
<TR VALIGN=TOP><TD>Эхо <TD> разрешено <TD align=center> да </TR>
<TR VALIGN=TOP><TD>Escape - символ <TD> + <TD align=center> нет </TR>
<TR VALIGN=TOP><TD>Защитный тон <TD> запрещен <TD align=center> да </TR>
<TR VALIGN=TOP><TD>LongSpace disconnect <TD> запрещен <TD align=center> да </TR>
<TR VALIGN=TOP><TD>Контроль четности <TD> четность <TD align=center> да </TR>
<TR VALIGN=TOP><TD>Параметры импульсного набора <TD> 39/61 <TD align=center> да </TR>
<TR VALIGN=TOP><TD>Ответы модема <TD> текстовые <TD align=center> да </TR>
<TR VALIGN=TOP><TD>Разрешенные сообщения <TD> все <TD align=center> да </TR>
<TR VALIGN=TOP><TD>Задержка RTS к CTS <TD> 10мс <TD align=center> да </TR>
<TR VALIGN=TOP><TD>Аудиоконтроль <TD> Разрешен при вызове Запрещен при передаче данных <TD align=center> да </TR>
<TR VALIGN=TOP><TD>Громкость динамика <TD> средняя <TD align=center> да </TR>
<TR VALIGN=TOP><TD>Значение тестового таймера <TD> 0с <TD align=center> да </TR>
<TR VALIGN=TOP><TD>Время ожидания несущей после набора номера <TD> 30с <TD align=center> нет </TR>
<TR VALIGN=TOP><TD>Время ожидания сигнала ответ станции <TD> 2с <TD align=center> нет </TR>
<TR VALIGN=TOP><TD>Ожидание сигнала ответ станции перед набором номера <TD> разрешено <TD align=center> нет <TD>
</table>
<blockquote><p align=justify>Внимание! При производственном тестировании модема в
NVRAM записываются профили, ОТЛИЧАЮЩИЕСЯ от устанавливаемого
командой &F. Эти установки, по мнению разработчиков, являются
оптимальными для большинства пользователей. Поэтому, если вы
изменили установки и хотите вернуться к предыдущим, рекомендуется воздержаться от применения команды &F. Заводские установки
записываются в оба профиля - 0 и 1; если вы не изменили второй
профиль - воспользуйтесь его содержимым вместо профиля по умолчанию.
</blockquote>
<p><center><p>
<font size=-1>
<a href="gl5.htm">Назад</a> | <a href="index.htm">Содержание</a> | <a href="gl7.htm">Вперед</a></font></center></p>
</p>
<hr noshade>
<center>
<font size=1 class=arial>
Copyright &copy; <a href="http://www.citmgu.ru/" class=noneline>CIT</a>
</font></center></body></html>

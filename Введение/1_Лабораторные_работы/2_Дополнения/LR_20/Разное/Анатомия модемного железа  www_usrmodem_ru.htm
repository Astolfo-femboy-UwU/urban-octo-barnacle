<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0040)http://gangopolis.narod.ru/Hard/Hard.htm -->
<!-- saved from url=(0056)http://www.usrmodem.ru/documents/articles/anatomia.shtml --><!-- Produced by D-Studio Design, www.ds-server.da.ru --><HTML><HEAD><TITLE>Анатомия модемного железа | www.usrmodem.ru</TITLE>
<META http-equiv=Content-Type content="text/html; charset=windows-1251">
<META 
content="Modems, USR, Sportster, Модемы, AVC, Upgrade, Flash, 56K, USRobotics, 3COM, U.S.Robotics, Ваваев, Прошивка, CONNECT, Microprogram, телекоммуникации, прошивка, прошивки, Курьер, Спортстер, апгрейд, флэш, ремонт, продажа, покупка, Додонов, FAQ, V90, 3Com, DSP, Дмитрий, Иванов, D-Studio Design, DSD, DStudio" 
name=keywords>
<META content="MSHTML 6.00.2900.3059" name=GENERATOR><LINK 
href="../new/USR/Прошивка!!!/AVC/Анатомия%20модемного%20железа%20%20www_usrmodem_ru.files/style.css" 
type=text/css rel=stylesheet>
<SCRIPT language=javascript src=""></SCRIPT>
</HEAD>
<BODY bgColor=#ffffff leftMargin=0 topMargin=0 onload=doOnLoadProcesses() 
marginheight="0" marginwidth="0">
<TABLE style="BORDER-COLLAPSE: collapse" borderColor=#111111 cellSpacing=0 
cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR>
    <TD vAlign=center align=right width="45%" bgColor=#c0c0c0><A 
      href="http://gangopolis.narod.ru/Hard/OglavlenieIndex.htm"><IMG height=26 
      src="Анатомия модемного железа  www_usrmodem_ru.files/GoBack.gif" width=32 
      border=0></A></TD>
    <TD vAlign=center align=right width="56%" bgColor=#c0c0c0>
      <P align=left><B><FONT color=#0066cc size=4><A 
      href="http://gangopolis.narod.ru/Hard/OglavlenieIndex.htm">Н<SPAN 
      lang=ru>азад</SPAN></A></FONT></B></P></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR>
    <TD align=left width="100%">&nbsp;</TD></TR>
  <TR>
    <TD class=clsColor1 id=divMenuBar>
      <SCRIPT>document.write(menuheader); drawmenus();</SCRIPT>
    </TD></TR>
  <TR>
    <TD>
      <TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
        <TBODY>
        <TR>
          <TD background="">&nbsp;</TD>
          <TD><BR>
            <H3 align=center>АНАТОМИЯ МОДЕМНОГО ЖЕЛЕЗА </H3>
            <P align=right>"Чинил я прошлым годом будильник... <BR>Все хорошо, 
            да пружина лишняя осталась." <BR>(из рассказа Михаила Алексеевича - 
            дедушки автора) </P>
            <P align=left>Модем не будильник, да и электроны не шестеренки. 
            Работает он надежнее, хотя ронять его тоже не рекомендуется. Но если 
            что случится, то проще новый купить, чем найти сгоревший chip. Так 
            почти все и поступают. </P>
            <P>В статье делается попытка открыть "черный ящик" под названием 
            модем и рассказать в популярной форме "что у него там внутри". </P>
            <P>На рис. 1 представлена типовая блок-схема внешнего модема, а в 
            тексте рассматривается необходимость каждого из узлов, приводятся 
            требования к его реализации и популярные схемотехнические решения. 
            </P>
            <P><IMG height=480 
            src="Анатомия модемного железа  www_usrmodem_ru.files/14_ris1.gif" 
            width=640> </P>
            <H4 align=center>1. Интерфейс с телефонной линией</H4>
            <CENTER><BR>(Direct Access Arrangement - DAA) <BR><BR></CENTER>
            <P>В ГОСТах экс-СССР регламентируется "Стык 1 ТЧ". В США модемы 
            проверяются на соответствие FCC Part 65, Part 15, в Великобритании 
            соответствующий стандарт - BS6305... Телефонные компании всего мира 
            жестко регламентируют требования к оборудованию, подключаемому к 
            каналам. </P>
            <P>Обеспечение физического соединения, защита от перенапряжения и 
            радиопомех, набор номера и фиксация телефонных звонков, 
            гальваническая развязка и согласование импеданса - вот далеко не 
            полный перечень функций, поддерживаемых схемой DAA. Перечисленные 
            функции обеспечиваются следующим образом. </P>
            <P>1) Соединители RJ11 обеспечивают физическое подключение к 
            коммутируемой телефонной линии и телефонному аппарату. В дешевых 
            изде- лиях телефон подключается параллельно входу модема, в 
            качественных - поддерживается переключение телефон/модем, 
            реализованное на реле. Хорошим тоном можно считать реализацию 
            режимов многолинейных телефонных систем (Key Telephone System) - 
            RJ12, RJ13 и поддержку работы на четырехпроводных выделенных линиях 
            RJ45, JM8. В таблице 1 приводится назначение контактов этих 
            соединителей. </P>
            <P align=right>Таблица 1 </P>
            <TABLE cellSpacing=0 cellPadding=3 width="100%" border=1>
              <TBODY>
              <TR>
                <TD>Номер контакта</TD>
                <TD>RJ11</TD>
                <TD>RJ12,RJ13</TD>
                <TD>RJ45</TD>
                <TD>Номер контакта</TD>
                <TD>JM8</TD></TR>
              <TR>
                <TD>1</TD>
                <TD>-</TD>
                <TD>-</TD>
                <TD>-</TD>
                <TD>1</TD>
                <TD>Ring transmit</TD></TR>
              <TR>
                <TD>2</TD>
                <TD>-</TD>
                <TD>A</TD>
                <TD>Tip receive</TD>
                <TD>2</TD>
                <TD>Tip transnit</TD></TR>
              <TR>
                <TD>3</TD>
                <TD>Tip</TD>
                <TD>Tip</TD>
                <TD>Ring transmit</TD>
                <TD>3</TD>
                <TD>-</TD></TR>
              <TR>
                <TD>4</TD>
                <TD>Ring</TD>
                <TD>Ring</TD>
                <TD>Tip transnit</TD>
                <TD>4</TD>
                <TD>-</TD></TR>
              <TR>
                <TD>5</TD>
                <TD>-</TD>
                <TD>A1</TD>
                <TD>Ring receive</TD>
                <TD>5</TD>
                <TD>-</TD></TR>
              <TR>
                <TD>6</TD>
                <TD>-</TD>
                <TD>-</TD>
                <TD>-</TD>
                <TD>6</TD>
                <TD>-</TD></TR>
              <TR>
                <TD>&nbsp;</TD>
                <TD>-</TD>
                <TD>-</TD>
                <TD>-</TD>
                <TD>7</TD>
                <TD>Tip receive</TD></TR>
              <TR>
                <TD>&nbsp;</TD>
                <TD>-</TD>
                <TD>-</TD>
                <TD>-</TD>
                <TD>8</TD>
                <TD>Ring receive</TD></TR></TBODY></TABLE>
            <P>2) Входные линии защищаются от перенапряжения варистором, который 
            резко уменьшает свое сопротивление при напряжении 400...500 В. 
            Второй каскад быстродействующей защиты устанавливается во вторичную 
            обмотку трансформатора и реализован на встречновключенных 
            стабилитронах. </P>
            <P>3) Защита линии от радиопомех, излучаемых модемом, выполняется на 
            обычных LC фильтрах (1000 pF плюс три витка на феррите). </P>
            <P>4) Для коммутируемых линий поддерживаются функции импульсного 
            набора номера, "отбоя" (постоянный ток менее 0.5 мА) и "удержания 
            линии" (постоянный ток более 8 мА). </P>
            <P>Наиболее универсальна реализация, в которой набор номера 
            выполняет реле, а постоянный ток протекает через трансформатор. </P>
            <P>В новых разработках часто используется схема Electronic Holding 
            Coll Circuit (EHCC). Она имеет низкое сопротивление постоянному 
            току, достаточное для удержания линии, но сохраняет высокий импеданс 
            для переменного тока полезного сигнала. При этом набор номера 
            осуществляет реле или сам узел EHCC с оптронной развязкой 
            управления. </P>
            <P>Схема EHCC имеет ограниченое применение на некоторых типах АТС 
            (например, "Квант"). </P>
            <P>5) Наиболее консервативен узел фиксации телефонных звонков. За 
            последние десять лет он почти не изменился. Высоковольтная емкость, 
            резистор, стабилитрон, светодиод оптронной развязки (с небольшой 
            игрой на номиналах и типах) - вот, пожалуй, и все. </P>
            <P>6) Важным требованием к интерфейсу с линией является обеспечение 
            симметричности входа и его гальваническая развязка. Для этого 
            используются трансформаторы. Оптронные развязки сегодня интересны, 
            скорее, как экзотика. </P>
            <P>Сами трансформаторы, беспрерывно совершенствуясь, претерпели две 
            волны моды. Сначала использовались обычные - с емкостной развязкой 
            по переменному току. Затем были разработаны модели, не ухудшающие 
            параметров при значительных постоянных токах подмагничивания. При 
            переходе к высоким скоростям все вернулось в начало... </P>
            <P>7) Согласование импеданса. Входное и выходное сопротивление 
            модема переменному току (300...3400 Гц) должно быть 600 Ом +-15%. 
            Качественный трансформатор и точный нагрузочный резистор тому залог. 
            Для уменьшения зависимости импеданса от частоты устанавливают 
            дополнительную емкость параллельно вторичной обмотке трансформатора. 
            </P>
            <H4 align=center>2. Дифференциальная система (HYBRID) </H4>
            <P>Цель дифференциальной системы - переход от двухпроводной линии к 
            четырехпроводной схеме аналогового окончания модема. Узел 
            компенсирует проникновение выходного сигнала во входной (ближнее 
            эхо), что повышает реальную чувствительность. </P>
            <P>Известно несколько типов "пассивных" реализаций: <BR>
            <UL>
              <LI>трансформаторная, при которой вторичная обмотка трансформатора 
              имеет среднюю точку, подключаемую через баластный резистор к 
              земле; 
              <LI>электронные, для схем с однополярным и двухполярным питанием; 
              в этом случае выходной сигнал вычитается из входного на 
              операционном усилителе, а частотная зависимость минимизируется 
              использованием форсирующего каскада. </LI></UL>
            <P>Больным местом этих схем является зависимость от сопротивления 
            конкретной телефонной линии. Несколько типов модемов имеют 
            аппаратную подстройку, но до конца справиться с зависимостью 
            сопротивления от частоты в пассивных системах не удается. </P>
            <P>Активная дифференциальная система используется в дорогих моделях. 
            Необходимый для компенсации сигнал постоянно вычисляется сигнальным 
            процессором. Сформированный дополнительным ЦАП и сглаженный 
            фильтром, он вычитается из входного сигнала, обеспечивая высокое 
            качество компенсации. </P>
            <H4 align=center>3. Аналоговый фронт (Analog Front End - AFE) </H4>
            <P>Гальванически изолированный от внешнего мира трансформатором и 
            разделенный на входной и выходной дифференциальной системой сигнал 
            попадает на "аналоговый фронт", где развертывается борьба за 
            милливольты и децибелы. </P>
            <P>Выходной сигнал формируется ЦАП. Для средних скоростей передачи 
            он обычно 10-разрядный, а для высокоскоростных модемов - 
            14...16-разрядный. Частота дискретизации данных от 7.2 до 9.6 кГц. 
            Сглаживающий фильтр, как правило, выполняется на базе интегральной 
            технологии "переключающихся конденсаторов". Он обеспечивает 
            затухание более 32 дБ на частотах свыше 4.6 кГц. </P>
            <P>Входной сигнал поступает на полосовой фильтр. Для модемов, 
            соответствующих V.22bis - это 900...1500 Гц или 2100...2700 Гц. Для 
            высокоскоростных полоса может достигать 300...4000 Гц (V.34). 
            "Облагороженный" сигнал усиливается программно управляемой схемой 
            АРУ и измеряется АЦП. Частота дискретизации и разрядность АЦП 
            примерно соответствуют ЦАП. </P>
            <H4 align=center>4. Сигнальный процессор (Digital Signal Processor - 
            DSP) </H4>
            <P>Давно закончились времена, когда "единички" и "нолики" выделялись 
            из помех с помощью аппаратных компараторов. Скорость передачи и ее 
            качество сейчас определяются вычислительными ресурсами, 
            задействованными для обработки сигнала. Их усредненные значения 
            приведены в таблице 2. </P>
            <P>ПЗУ DSP выполняется или по масочной технологии на кристалле 
            процессора, или в виде микросхем ОЗУ, в которые программа 
            загружается из ПЗУ контроллера. ОЗУ данных реализуется на процессоре 
            или совмещается с ОЗУ команд. </P>
            <P align=right>Таблица 2 </P>
            <TABLE cellSpacing=0 cellPadding=3 width="100%" border=1>
              <TBODY>
              <TR>
                <TD>Рекомендация CCITT <BR>скорость передачи бит/сек</TD>
                <TD>V.22bis <BR>2400</TD>
                <TD>V.32bis <BR>14400</TD>
                <TD>V.34 <BR>28800</TD></TR>
              <TR>
                <TD>&gt;разрядность (бит)</TD>
                <TD>16</TD>
                <TD>16</TD>
                <TD>16</TD></TR>
              <TR>
                <TD>быстродействие (MIPS)</TD>
                <TD>5</TD>
                <TD>20</TD>
                <TD>30</TD></TR>
              <TR>
                <TD>&gt;Ресурс ПЗУ/ОЗУ (Кбит*разрядность)</TD>
                <TD>2*16/0.124*16</TD>
                <TD>8*16</TD>
                <TD>32*16</TD></TR>
              <TR>
                <TD>Пример DSP</TD>
                <TD>TMS320C10</TD>
                <TD>ADSP2115</TD>
                <TD>DSP1633F</TD></TR></TBODY></TABLE>
            <H4 align=center>5. Контроллер (Modem controller - MC) </H4>
            <P>Поддержка интерфейса с компьютером, управление DSP, реализация 
            протоколов коррекции ошибок и сжатия информации, управление 
            пользовательским интерфейсом и взаимодействие с энергонезависимой 
            памятью - вот неполный перечень функций контроллера. </P>
            <P>Усредненные значения необходимых ресурсов приведены в таблице 3. 
            Поддержка идеологии "upgrade" привела к постепенному сосредоточению 
            хранения "firmware" DSP и контроллера в одной микросхеме с 
            возможностью ее замены. </P>
            <P align=right>Таблица 3 </P>
            <TABLE cellSpacing=0 cellPadding=3 width="100%" border=1>
              <TBODY>
              <TR>
                <TD>Рекомендация CCITT <BR>скорость передачи бит/сек</TD>
                <TD>V.22bis <BR>2400</TD>
                <TD>V.32bis <BR>14400</TD>
                <TD>V.34 <BR>28800</TD></TR>
              <TR>
                <TD>разрядность (бит)</TD>
                <TD>8</TD>
                <TD>8</TD>
                <TD>8</TD></TR>
              <TR>
                <TD>быстродействие (MIPS)</TD>
                <TD>1</TD>
                <TD>4</TD>
                <TD>8</TD></TR>
              <TR>
                <TD>Ресурс ПЗУ Кбит*разр.</TD>
                <TD>32х8</TD>
                <TD>256х8</TD>
                <TD>256х8</TD></TR>
              <TR>
                <TD>Ресурс ОЗУ Кбит*разр.</TD>
                <TD>32х8</TD>
                <TD>32х8</TD>
                <TD>32х8</TD></TR>
              <TR>
                <TD>Ресурс EEPROM Кбит*разр.</TD>
                <TD>1х1</TD>
                <TD>4х1</TD>
                <TD>4х1</TD></TR>
              <TR>
                <TD>Пример контроллера</TD>
                <TD>i80c51</TD>
                <TD>68000</TD>
                <TD>AT&amp;T C882</TD></TR></TBODY></TABLE>
            <H4 align=center>6. Интерфейс с компьютером (Data Interface - DI) 
            </H4>
            <P>Внешние модемы взаимодействуют с компьютером по цепям интерфейса 
            RS-232C / V.24. Полный набор цепей позволяет работать как в 
            асинхронном, так и в синхронном режимах. Микросхемы преобразователей 
            уровня 1488, 1489 обеспечивают сопряжение биполярной логики 
            интерфейса с внутренними ТТЛ уровнями. </P>
            <P>Внутренние изделия могут работать только в асинхронном режиме, 
            т.к. в их состав входит микросхема асинхронного COM порта - UART 
            (16C450 или 16C550, имеющая встроенный буфер приема). Есть 
            реализации, в которых порт эмулируется контроллером. Достаточно 
            буфера и дешифратора для подключения UART к общей шине компьютера. 
            Джамперы позволяют настроить номер COM порта (COM1...COM4) со 
            стандартным или расширенным номером прерывания. </P>
            <H4 align=center>7. Интерфейсы с пользователем (User Interface) 
</H4>
            <P>1) Звук (SPEAKER). <BR>Встроенный в модем динамик озвучивает 
            процессы, происходящие в телефонном канале. В хороших моделях 
            используются магнитоэлектричес- кие динамики с линейной полосой 
            воспроизведения, в более дешевых - пьезоэлектрические. Для удобства 
            пользователя громкость звука можно регулировать (узел volume). </P>
            <P>Наиболее часто узел звука строится по схеме: 
            <UL>
              <LI>сигнал снимается после фильтра, но до АРУ; 
              <LI>громкостью управляет контроллер с помощью микросхемы 
              коммутатора напряжения 4052; 
              <LI>фильтр вносит предискажение АЧХ для линеаризации характеристик 
              конкретного типа динамика; 
              <LI>микросхема LM386, запитанная от +5 В, усиливает сигнал; 
              <LI>для четырехпроводных устройств одновременно воспроизводится 
              как входной, так и выходной сигнал. </LI></UL>
            <P>2) Панель индикации (INDICATOR). <BR>Внутренние модемы не имеют 
            панелей индикации. Во внешних чаще всего используются светодиоды 
            (LED). </P>
            <P>В относительно дорогих устройствах применяют символьные 
            двухстрочные жидко-кристаллические индикаторы (LCD). Используя 
            панель управления можно отобразить состояние модема, характеристики 
            физической линии, вывести меню для программирования режимов. 
            Использование стандартных (HD44780A00-совместимых) индикаторов не 
            сильно увеличивает себестоимость, но позволяет производителю ощутимо 
            поднять цену. </P>
            <P>3) Панель управления (CONTROL KEY). <BR>В большинстве модемов 
            панель сводится к набору джамперов и переключателей (SW), как 
            недоступных без разборки изделия, так и имеющих специальные 
            "окошки", "крышечки", обеспечивающие "защиту от дурака". </P>
            <P>В изделиях с LCD кнопочная панель (KEY) сосредоточивает все 
            функции по управлению режимами работы. </P>
            <H4 align=center>8. Питание (POWER) </H4>
            <P>Встроенные модемы запитываются от компьютера напряжениями +-5В и 
            лишь в отдельных случаях используют +-12 В. </P>
            <P>Внешние модемы массового производства используют внешние 
            адаптеры, преобразующие напряжение первичного питания 220 В во 
            вторичное напряжение 9..12 В. Встроенный стабилизатор формирует: 
            <UL>
              <LI>основное питание +5 В; обычно использовалось гашение 
              напряжения из +12 В на линейном стабилизаторе, сейчас внедряются 
              импульсные стабилизаторы; 
              <LI>-5 В для аналоговых цепей; 
              <LI>+-12 В для интерфейса RS-232C. </LI></UL>
            <P>В старых разработках применялись однополупериодные схемы 
            выпрямления для получения положительного и отрицательного 
            напряжения. В новых используются двухполупериодные, а отрицательное 
            напряжение формируется за счет разделительных емкостей. </P>
            <H4 align=center>9. Производители </H4>
            <P>Обзор архитектуры модемов будет не полным, если не коснуться 
            вопроса их производителей. Все фирмы можно условно разделить на три 
            группы. </P>
            <P>1) Разработчики "модемного сердца" - набора специализированных 
            БИС (chip set). <BR>Для средних скоростей передачи относительно 
            много фирм ввязались в гонку за призом (хотя и не все его получили): 
            Intel, Rockwell, ATI, EXAR, Sierra Semiconductor, Silicon Sistems, 
            Hayes, Sharp, Cermetek, Texas Instrument, и др. </P>
            <P>Для высокоскоростных модемов лидеры обозначились более четко. Это 
            гигант связи и телекоммуникации на американском континенте AT&amp;T 
            и "продукт американской конверсии" Rockwell International. Наличие 
            лидеров ничуть не принижает результатов, достигнутых другими 
            компаниями. </P>
            <P>2) Производители, использующие универсальные процессоры, и, как 
            следствие, разрабатывающие свои алгоритмы сигнальной обработки: 
            Motorola Codex, Telebit Corp., U.S. Robotics Inc., ZyXEL, и др. Для 
            реализации протоколов сжатия и коррекции ошибок они, как правило, 
            покупают лицензию фирмы R. Scott Association. Все эти фирмы 
            дополнительно поддерживают свои собственные протоколы физического 
            уровня. </P>
            <P>Немного в стороне стоят, так называемые, soft-модемы, программное 
            обеспечение которых загружается из компьютера - красивые по 
            заложенной идее, они пока не получили широкого распространения. </P>
            <P>3) Сборщики модемов на основе chip set. Не стоит понимать термин 
            "сборщики" в пренебрежительном тоне. Качество работы во многом 
            определяется тем, насколько хорошо поддерживаются заложенные в chip 
            set возможности, насколько "бесшумно" реализован аналоговый тракт 
            передачи и еще от тысячи других причин. Многие фирмы вносят свои 
            коррекции и реализуют дополнительные функции в программном 
            обеспечении базовых наборов микросхем. </P>
            <P>Приведем лишь несколько крупных фирм производителей: AMT 
            International Industries Inc., Archtek America Corp., ATI 
            Tecnologies, AT&amp;T Paradyne, Boca Research Inc., Calpak Corp., 
            Cardinal Technologies Inc., GVC Technologies Inc., Hayes 
            Microcomputer Products Inc., Microcom Inc., MultiTech Systems, 
            Practical Peripherals Inc., Racal-Datacom Inc., Zoom Telephonics 
            Inc. </P>
            <P align=right>Игорь Дианов, "Аналитик-ТелекомСистемы" 
        </P><BR></TD></TR></TBODY></TABLE></TD></TR>
  <TR>
    <TD class=clsColor1>
      <SCRIPT>document.write(menufooter)</SCRIPT>
    </TD></TR></TBODY></TABLE>
<TABLE style="BORDER-COLLAPSE: collapse" borderColor=#111111 cellSpacing=0 
cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR>
    <TD vAlign=center align=right width="45%" bgColor=#c0c0c0><A 
      href="http://gangopolis.narod.ru/Hard/OglavlenieIndex.htm"><IMG height=26 
      src="Анатомия модемного железа  www_usrmodem_ru.files/GoBack.gif" width=32 
      border=0></A></TD>
    <TD vAlign=center align=right width="56%" bgColor=#c0c0c0>
      <P align=left><B><FONT color=#0066cc size=4><A 
      href="http://gangopolis.narod.ru/Hard/OglavlenieIndex.htm">Н<SPAN 
      lang=ru>азад</SPAN></A></FONT></B></P></TD></TR></TBODY></TABLE><!-- ><!-- "><!-- '><!-- --></TEXTAREA></FORM></TITLE></COMMENT></A>
<DIV></DIV></SPAN></ILAYER></LAYER></IFRAME></NOFRAMES></STYLE></NOSCRIPT></TABLE></SCRIPT></APPLET></FONT>
<STYLE>#bn {
	DISPLAY: block
}
#bt {
	DISPLAY: block
}
</STYLE>

<DIV 
style="BACKGROUND: url(http://www.tns-counter.ru/V13a****yandex_ru/ru/CP1251/tmsec=narod_total/)"></DIV>
<SCRIPT language=JavaScript 
src="Анатомия модемного железа  www_usrmodem_ru.files/163.htm"></SCRIPT>
<!-- mailto:spm111@yandex.ru --></BODY></HTML>
